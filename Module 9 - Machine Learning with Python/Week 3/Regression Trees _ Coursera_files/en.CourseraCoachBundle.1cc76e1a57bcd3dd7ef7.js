(window.webpackJsonp=window.webpackJsonp||[]).push([["CourseraCoachBundle",14,56,103],{"0/vS":function(module,exports){var e={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AiCoach_UpdateWithUserFeedback"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"AiCoach_UpdateWithUserFeedbackInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"AiCoach_UpdateWithUserFeedback"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"messageId"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:158}};e.loc.source={body:"mutation AiCoach_UpdateWithUserFeedback($input: AiCoach_UpdateWithUserFeedbackInput!) {\n  AiCoach_UpdateWithUserFeedback(input: $input) {\n    messageId\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var n={};function findOperation(e,n){for(var t=0;t<e.definitions.length;t++){var a=e.definitions[t];if(a.name&&a.name.value==n)return a}}e.definitions.forEach((function(e){if(e.name){var t=new Set;!function collectFragmentReferences(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var t=e.type;"NamedType"===t.kind&&n.add(t.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){collectFragmentReferences(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){collectFragmentReferences(e,n)})),e.definitions&&e.definitions.forEach((function(e){collectFragmentReferences(e,n)}))}(e,t),n[e.name.value]=t}})),module.exports=e,module.exports.AiCoach_UpdateWithUserFeedback=function(e,t){var a={kind:e.kind,definitions:[findOperation(e,t)]};e.hasOwnProperty("loc")&&(a.loc=e.loc);var i=n[t]||new Set,r=new Set,o=new Set;for(i.forEach((function(e){o.add(e)}));o.size>0;){var c=o;o=new Set,c.forEach((function(e){r.has(e)||(r.add(e),(n[e]||new Set).forEach((function(e){o.add(e)})))}))}return r.forEach((function(n){var t=findOperation(e,n);t&&a.definitions.push(t)})),a}(e,"AiCoach_UpdateWithUserFeedback")},"291/":function(module,e,n){"use strict";n.d(e,"l",(function(){return updateChatHistory})),n.d(e,"a",(function(){return addResponseMessage})),n.d(e,"e",(function(){return enableMsgLoader})),n.d(e,"k",(function(){return toggleWidget})),n.d(e,"f",(function(){return openCoachWidget})),n.d(e,"d",(function(){return dropMessages})),n.d(e,"j",(function(){return setUserInputText})),n.d(e,"c",(function(){return clearUserInputText})),n.d(e,"h",(function(){return setChatSessionId})),n.d(e,"i",(function(){return setChatSessionStorageKey})),n.d(e,"b",(function(){return clearChatSession})),n.d(e,"g",(function(){return sendMessage}));var t=n("fsL8"),a=n.n(t),i=n("3tO9"),r=n.n(i),o=n("yXPU"),c=n.n(o),s=n("lX80"),d=n("Nbf1"),l=n("b+Bk"),u=n.n(l),m=n("l1il"),p=n("XYQi"),h=n("saWA");function updateChatHistory(e){var n=h.u(e);m.a.dispatch(n)}function addResponseMessage(e){var n=e.text,t=e.id,a=e.clipRecommendations,i=e.userFeedback,r=e.timestamp,o=e.recommendedActions;m.a.dispatch(h.b(n,t,a,i,r,o))}function enableMsgLoader(e){m.a.dispatch(h.g(e))}function toggleWidget(){m.a.dispatch(h.r())}function openCoachWidget(){m.a.dispatch(h.i())}function dropMessages(){m.a.dispatch(h.f())}function setUserInputText(e){m.a.dispatch(h.q(e))}function clearUserInputText(){m.a.dispatch(h.q(""))}function setChatSessionId(e){m.a.dispatch(h.l(e))}function setChatSessionStorageKey(e){m.a.dispatch(h.m(e))}function clearChatSession(){var e=m.a.getState().sessionState.chatSessionStorageKey;p.a.clear(null==e?void 0:e.chatSessionStorageKey),m.a.dispatch(h.d())}function sendMessage(e){return _sendMessage.apply(this,arguments)}function _sendMessage(){return(_sendMessage=c()(a()().mark((function _callee(e){var n,t,i,o,c,l;return a()().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=m.a.getState(),t=n.sessionState,i=t.chatSessionId,o=t.chatSessionStorageKey,c=new s.a,l=new d.a({uri:"/graphql-gateway?opname=AiCoach_CreateUserMessageAndReturnResponse",cache:c}),g=e.input.message,f=void 0,v=void 0,m.a.dispatch(h.c(g,f,v)),enableMsgLoader(!0),a.abrupt("return",l.mutate({mutation:u.a,variables:{input:r()(r()({},e.input),{},{chatSessionId:i}),clipRecommendationsEnabled:e.clipRecommendationsEnabled,recommendedActionsEnabled:e.recommendedActionsEnabled},context:{clientName:"gatewayGql"}}).then((function(e){var n=e.data,t=(null==n?void 0:n.AiCoach_CreateUserMessageAndReturnResponse)||{},a=t.chatSessionId,r=t.messageByAiCoach,c=t.clipRecommendations,s=t.recommendedActions;return enableMsgLoader(!1),i||setChatSessionId(a),!p.a.get(null==o?void 0:o.chatSessionStorageKey)&&a&&p.a.set(null==o?void 0:o.chatSessionStorageKey,a),null!=r&&r.message&&m.a.dispatch(h.b(r.message,r.messageId,c,void 0,"",s)),n})));case 7:case"end":return a.stop()}var g,f,v}),_callee)})))).apply(this,arguments)}},"5x5m":function(module,e,n){"use strict";var t,a=n("VkAN"),i=n.n(a),r=n("AeFk"),o=n("8Hdl"),c=n("DxU6"),s=n.n(c),d={betaTag:Object(r.c)(t||(t=i()(["\n    line-height: 1.3em;\n    height: 18px;\n    background-color: var(--cds-color-neutral-background-primary);\n    border-radius: var(--cds-spacing-50);\n    padding: 0 var(--cds-spacing-100);\n  "])))};function TagBeta(){return Object(r.d)(o.a,{variant:"body2",css:d.betaTag,component:"span"},s()("Beta"))}var l,u,m,p=n("J4zp"),h=n.n(p),g=n("q1tI"),f=n("JQEk"),v=n("TSYQ"),b=n.n(v),w=n("al67"),k=n("acd4"),assets_ExpandMoreIcon=function(e){var n=e.className;return Object(r.d)("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 -960 960 960",width:"24"},l||(l=Object(r.d)("path",{d:"M480-345 240-585l56-56 184 184 184-184 56 56-240 240Z"})))},C=Object(r.c)(u||(u=i()(["\n  --disclosure-padding: var(--cds-spacing-200);\n\n  &.disclosure {\n    width: 100%;\n    min-width: 300px;\n    background: #f4f7fa;\n    border-radius: 2px var(--cds-spacing-200) var(--cds-spacing-200) var(--cds-spacing-200);\n  }\n\n  .disclosure-header {\n    padding: var(--cds-spacing-150) var(--disclosure-padding);\n    background: #3587fc1a;\n    border-radius: 2px var(--cds-spacing-200) 0 0;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n\n    &:hover {\n      cursor: pointer;\n    }\n\n    &:focus-visible {\n      outline: none;\n      box-shadow: 0 0 0 1px var(--cds-color-interactive-stroke-primary-focus),\n        0 0 0 2px var(--cds-color-interactive-stroke-primary-focus-invert);\n    }\n  }\n\n  .disclosure-expand-icon {\n    transition: transform 300ms ease-in-out;\n\n    path {\n      fill: #1e2229;\n    }\n  }\n\n  &.expanded {\n    .disclosure-expand-icon {\n      transform: rotate(180deg);\n    }\n  }\n\n  .disclosure-content {\n    padding: var(--cds-spacing-100) var(--disclosure-padding) 0 var(--disclosure-padding);\n    max-width: 1200px;\n  }\n\n  .disclosure-footer {\n    padding: var(--disclosure-padding);\n  }\n"]))),common_Disclosure=function(e){var n=e.id,t=e.children,a=e.defaultExpanded,i=void 0!==a&&a,o=e.header,c=e.footer,s=e["aria-label"],d=Object(g.useState)(i),l=h()(d,2),u=l[0],p=l[1],v=Object(k.a)(n),S="".concat(v,"-header"),x="".concat(v,"-content"),O="".concat(v,"-footer"),handleClick=function(){return p(!u)};return Object(r.d)("div",{className:b()("disclosure",{expanded:u}),id:v,css:C},Object(r.d)("div",{tabIndex:0,onClick:handleClick,"aria-label":s,className:"disclosure-header",id:S,role:"button","aria-expanded":u,"aria-controls":x,onKeyPress:function(e){return Object(w.a)(e,handleClick)}},o,m||(m=Object(r.d)(assets_ExpandMoreIcon,{className:"disclosure-expand-icon"}))),Object(r.d)(f.a,{in:u},Object(r.d)("div",{id:x,className:"disclosure-content"},t)),c&&Object(r.d)("div",{id:O,className:"disclosure-footer"},c))};n("ALTC");n.d(e,"b",(function(){return TagBeta})),n.d(e,"a",(function(){return common_Disclosure}))},"7h5H":function(module,exports){exports.default={"ar":true,"de":true,"el":true,"es":true,"fr":true,"hi":true,"hu":true,"id":true,"it":true,"ja":true,"kk":true,"ko":true,"nl":true,"pl":true,"pt":true,"ru":true,"sv":true,"th":true,"tr":true,"uk":true,"zh":true,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":true}},ALTC:function(module,e,n){"use strict";n.d(e,"a",(function(){return CoachDisclosure}));var t,a,i=n("pVnL"),r=n.n(i),o=n("QILm"),c=n.n(o),s=n("AeFk"),d=(n("q1tI"),n("zyGl")),l=n("5x5m"),u=n("t3UK"),m=n("DxU6"),p=n.n(m),h=["actionButtons","aria-label","children"],CoachDisclosure=function(e){var n=e.actionButtons,i=e["aria-label"],o=void 0===i?p()("Coach, AI powered assistant, beta"):i,m=e.children,g=c()(e,h);return Object(s.d)(u.a,null,Object(s.d)(l.a,r()({},g,{"aria-label":o,header:Object(s.d)("div",{css:{display:"flex",gap:8,alignItems:"center"}},t||(t=Object(s.d)(d.a,null)),a||(a=Object(s.d)(l.b,null))),footer:n&&Object(s.d)("div",{css:{display:"flex",flexWrap:"wrap",gap:8}},n)}),m))}},DxU6:function(module,exports,e){var n=e("7h5H"),t=n.default?n.default:{},a=(0,e("HdzH").default)(t);a.getLocale=function(){return"en"},module.exports=a},FeVY:function(module,e,n){"use strict";var t,a=n("pVnL"),i=n.n(a),r=n("q1tI"),o=n("/MKj"),c=n("L1vm"),s=n("sQ/U"),d=n("8Hdl"),l=n("rnql"),u=n("ALTC"),m=n("QILm"),p=n.n(m),h=n("Ji5S"),g=n("DxU6"),f=n.n(g),v=["children"],common_CoachTriggerButton=function(e){var n=e.children,a=p()(e,v);return(r.createElement(l.a,i()({variant:"secondary",size:"small","aria-label":f()("#{label}, Coach trigger",{label:n}),icon:t||(t=r.createElement(h.e,null)),iconPosition:"before"},a),n))},b=n("l1il"),w=n("291/");n.d(e,"a",(function(){return ExternalCoachDisclosure_ExternalCoachDisclosure}));var ExternalCoachDisclosure_StoreProviderWrapper=function(e){var n=e.children;return(r.createElement(o.a,{store:b.a},n))},ExternalCoachDisclosure_ExternalCoachDisclosureContent=function(e){var n=e.disclosureMessage,t=e.actionButtons,a=e.courseId,m=e.itemId,p=e.recommendedActionsEnabled,h=void 0!==p&&p,g=e.clipRecommendationsEnabled,f=void 0!==g&&g,v=Object(o.c)((function(e){return{isMessageLoading:e.behavior.messageLoader}})).isMessageLoading,b=Object(c.b)(),k=null==t?void 0:t.map((function(e){var n=e.isCoachTrigger,t=e.label,i=e.onClick,o=e.mode,c=e.action;return n?r.createElement(common_CoachTriggerButton,{disabled:v,onClick:function(){var e,n;i&&i(),Object(w.f)(),Object(w.g)({input:{userId:String(null===s.a||void 0===s.a?void 0:null===(e=s.a.get)||void 0===e?void 0:null===(n=e.call(s.a))||void 0===n?void 0:n.id),message:t,courseraContext:{courseId:a,itemId:m},mode:o,action:c},recommendedActionsEnabled:h,clipRecommendationsEnabled:f}),b({trackingData:{input_text:t,timestamp:Date.now()},trackingName:"ai_course_coach_disclosure",action:"click_send_message"})}},t):r.createElement(l.a,{onClick:i},t)}));return r.createElement(u.a,i()({},e,{actionButtons:k}),r.createElement(d.a,{variant:"body1"},n))},ExternalCoachDisclosure_ExternalCoachDisclosure=function(e){return r.createElement(ExternalCoachDisclosure_StoreProviderWrapper,null,r.createElement(ExternalCoachDisclosure_ExternalCoachDisclosureContent,e))};e.b=ExternalCoachDisclosure_ExternalCoachDisclosure},Ijdf:function(module,e,n){"use strict";n.d(e,"a",(function(){return CoachPermissionsWrapper}));var t=n("q1tI"),a=n("agHs"),i=n("sQ/U"),r=n("cS59"),o=Object(r.b)({enterprise:{enableAiCoach:!0}}).ProductFeaturesQuery,CoachPermissionsWrapper=function(e){var n=e.epicEnabledState,c=e.rolloutEnabledState,s=e.children,d=i.a.get(),l=String(d.id);return n&&function(e){return void 0===e||e}(c)?s:!1===c?null:t.createElement(o,{idType:r.a.User,id:l},(function(e){var n=e.loading,t=e.error,i=e.features;return n?null:t?(a.captureMessage("CourseraCoach-Error: "+JSON.stringify(t)),null):i.get("enterprise","enableAiCoach")?s:null}))}},Ji5S:function(module,e,n){"use strict";var t,a,i,r,o,c,s,d,l,u,m=n("q1tI"),mui_CloseIcon=function(e){var n=e.width,a=void 0===n?"16":n,i=e.height,r=void 0===i?"16":i;return(m.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:a,height:r,viewBox:"0 0 16 16",fill:"none"},t||(t=m.createElement("path",{d:"M2.8 14.5L1.5 13.2L6.7 8L1.5 2.8L2.8 1.5L8 6.7L13.2 1.5L14.5 2.8L9.3 8L14.5 13.2L13.2 14.5L8 9.3L2.8 14.5Z",fill:"#1E2229"}))))},mui_ExpandIcon=function(e){var n=e.width,t=void 0===n?"16":n,i=e.height,r=void 0===i?"16":i;return(m.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:r,viewBox:"0 0 16 16",fill:"none"},a||(a=m.createElement("path",{d:"M1 15V9H3V13H7V15H1ZM13 7V3H9V1H15V7H13Z",fill:"#1E2229"}))))},mui_NewChatIcon=function(e){var n=e.width,t=void 0===n?"16":n,a=e.height,r=void 0===a?"16":a;return(m.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:r,viewBox:"0 0 16 16",fill:"none"},i||(i=m.createElement("path",{d:"M7.3 9.4H8.7V7.3H10.8V5.9H8.7V3.8H7.3V5.9H5.2V7.3H7.3V9.4ZM1 15V2.4C1 2.015 1.13708 1.68542 1.41125 1.41125C1.68542 1.13708 2.015 1 2.4 1H13.6C13.985 1 14.3146 1.13708 14.5887 1.41125C14.8629 1.68542 15 2.015 15 2.4V10.8C15 11.185 14.8629 11.5146 14.5887 11.7887C14.3146 12.0629 13.985 12.2 13.6 12.2H3.8L1 15ZM3.205 10.8H13.6V2.4H2.4V11.5875L3.205 10.8Z",fill:"#1E2229"}))))},mui_SendIcon=function(e){var n=e.width,t=void 0===n?"16":n,a=e.height,i=void 0===a?"16":a;return(m.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:i,viewBox:"0 0 16 16",fill:"none"},r||(r=m.createElement("path",{d:"M1.05273 13.5579V2.44208L14.9475 7.99997L1.05273 13.5579ZM2.51534 11.4737L11.1813 7.99997L2.51534 4.52629V6.95787L6.90315 7.99997L2.51534 9.04208V11.4737Z",fill:"#1E2229"}))))},mui_SparkleIcon=function(e){var n=e.width,t=void 0===n?"16":n,a=e.height,i=void 0===a?"16":a;return(m.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:i,viewBox:"0 0 16 16",fill:"none"},o||(o=m.createElement("path",{d:"M6.79086 2.84536C6.94863 2.45894 7.49582 2.45895 7.65358 2.84536L8.50842 4.93912C8.98171 6.09834 9.90165 7.01829 11.0609 7.49157L13.1546 8.34641C13.541 8.50418 13.541 9.05137 13.1546 9.20913L11.0609 10.064C9.90165 10.5373 8.98171 11.4572 8.50842 12.6164L7.65358 14.7102C7.49582 15.0966 6.94863 15.0966 6.79086 14.7102L5.93602 12.6164C5.46274 11.4572 4.54279 10.5373 3.38357 10.064L1.28981 9.20913C0.903395 9.05137 0.903396 8.50418 1.28981 8.34641L3.38357 7.49157C4.54279 7.01828 5.46274 6.09834 5.93602 4.93911L6.79086 2.84536Z",fill:"#1E2229"})),c||(c=m.createElement("path",{d:"M12.4081 1.17372C12.5027 0.942092 12.8307 0.942092 12.9253 1.17372L13.3286 2.16147C13.4231 2.3931 13.6069 2.57691 13.8386 2.67148L14.8263 3.07476C15.0579 3.16933 15.0579 3.49734 14.8263 3.59191L13.8386 3.99518C13.6069 4.08975 13.4231 4.27357 13.3286 4.50519L12.9253 5.49294C12.8307 5.72457 12.5027 5.72458 12.4081 5.49294L12.0049 4.50519C11.9103 4.27357 11.7265 4.08975 11.4948 3.99518L10.5071 3.59191C10.2755 3.49734 10.2755 3.16933 10.5071 3.07476L11.4948 2.67148C11.7265 2.57691 11.9103 2.3931 12.0049 2.16147L12.4081 1.17372Z",fill:"#1E2229"}))))},mui_ThumbDownIcon=function(e){var n=e.width,t=void 0===n?"16":n,a=e.height,i=void 0===a?"16":a,r=e.filled;return void 0!==r&&r?m.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:i,viewBox:"0 0 16 16",fill:"none"},s||(s=m.createElement("g",{clipPath:"url(#clip0_256_1921)"},m.createElement("path",{d:"M4.00002 2L10.6667 2L10.6667 10.6667L6.00002 15.3333L5.16669 14.5C5.08891 14.4222 5.02502 14.3167 4.97502 14.1833C4.92502 14.05 4.90002 13.9222 4.90002 13.8L4.90002 13.5667L5.63335 10.6667L2.00002 10.6667C1.64446 10.6667 1.33335 10.5333 1.06669 10.2667C0.80002 10 0.666687 9.68889 0.666687 9.33333L0.666687 8C0.666687 7.92222 0.67502 7.83889 0.691687 7.75C0.708354 7.66111 0.733353 7.57778 0.766687 7.5L2.76669 2.8C2.86669 2.57778 3.03335 2.38889 3.26669 2.23333C3.50002 2.07778 3.74447 2 4.00002 2ZM12 10.6667L12 2L14.6667 2L14.6667 10.6667L12 10.6667Z",fill:"#1E2229"}))),m.createElement("defs",null,m.createElement("clipPath",{id:"clip0_256_1921"},m.createElement("rect",{width:t,height:i,fill:"white",transform:"translate(16 16) rotate(-180)"})))):m.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:i,viewBox:"0 0 16 16",fill:"none"},d||(d=m.createElement("path",{d:"M10.0001 1.33334H4.00008C3.44675 1.33334 2.97341 1.66668 2.77341 2.14668L0.760081 6.84668C0.700081 7.00001 0.666748 7.16001 0.666748 7.33334V8.66668C0.666748 9.40001 1.26675 10 2.00008 10H6.20675L5.57341 13.0467L5.55341 13.26C5.55341 13.5333 5.66675 13.7867 5.84675 13.9667L6.55341 14.6667L10.9467 10.2733C11.1867 10.0333 11.3334 9.70001 11.3334 9.33334V2.66668C11.3334 1.93334 10.7334 1.33334 10.0001 1.33334ZM10.0001 9.33334L7.10675 12.2267L8.00008 8.66668H2.00008V7.33334L4.00008 2.66668H10.0001V9.33334ZM12.6667 1.33334H15.3334V9.33334H12.6667V1.33334Z",fill:"#1E2229"})))},mui_ThumbUpIcon=function(e){var n=e.width,t=void 0===n?"16":n,a=e.height,i=void 0===a?"16":a,r=e.filled;return void 0!==r&&r?m.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:i,viewBox:"0 0 16 16",fill:"none"},l||(l=m.createElement("path",{d:"M11 14H4.33331V5.33333L8.99998 0.666667L9.83331 1.5C9.91109 1.57778 9.97498 1.68333 10.025 1.81667C10.075 1.95 10.1 2.07778 10.1 2.2V2.43333L9.36665 5.33333H13C13.3555 5.33333 13.6666 5.46667 13.9333 5.73333C14.2 6 14.3333 6.31111 14.3333 6.66667V8C14.3333 8.07778 14.325 8.16111 14.3083 8.25C14.2916 8.33889 14.2666 8.42222 14.2333 8.5L12.2333 13.2C12.1333 13.4222 11.9666 13.6111 11.7333 13.7667C11.5 13.9222 11.2555 14 11 14ZM2.99998 5.33333V14H0.333313V5.33333H2.99998Z",fill:"#1E2229"}))):m.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:i,viewBox:"0 0 16 16",fill:"currentColor"},u||(u=m.createElement("path",{d:"M6.00008 14.6667H12.0001C12.5534 14.6667 13.0267 14.3333 13.2267 13.8533L15.2401 9.15334C15.3001 9.00001 15.3334 8.84001 15.3334 8.66668V7.33334C15.3334 6.60001 14.7334 6.00001 14.0001 6.00001H9.79341L10.4267 2.95334L10.4467 2.74001C10.4467 2.46668 10.3334 2.21334 10.1534 2.03334L9.44675 1.33334L5.05341 5.72668C4.81341 5.96668 4.66675 6.30001 4.66675 6.66668V13.3333C4.66675 14.0667 5.26675 14.6667 6.00008 14.6667ZM6.00008 6.66668L8.89341 3.77334L8.00008 7.33334H14.0001V8.66668L12.0001 13.3333H6.00008V6.66668ZM0.666748 6.66668H3.33341V14.6667H0.666748V6.66668Z",fill:"#1E2229"})))};n.d(e,"a",(function(){return mui_CloseIcon})),n.d(e,"b",(function(){return mui_ExpandIcon})),n.d(e,"c",(function(){return mui_NewChatIcon})),n.d(e,"d",(function(){return mui_SendIcon})),n.d(e,"e",(function(){return mui_SparkleIcon})),n.d(e,"f",(function(){return mui_ThumbDownIcon})),n.d(e,"g",(function(){return mui_ThumbUpIcon}))},TCdk:function(module,e,n){"use strict";n.r(e);var t=n("VDEC"),a=n("FeVY"),i=n("Ijdf");e.default={CourseraCoach:t.default,ExternalCoachDisclosure:a.b,CoachPermissionsWrapper:i.a}},VDEC:function(module,e,n){"use strict";n.r(e);var t,a,i,r=n("VkAN"),o=n.n(r),c=n("AeFk"),s=n("q1tI"),d=n("i8i4"),l=n("/MKj"),u=n("agHs"),m=n("L1vm"),p=n("vXr1"),h=n("sQ/U"),g=n("DU3t"),f=n("6/Gu"),v=n("8Hdl"),b=n("rnql"),w=n("vDB9"),RecommendedActions_Action=function(e){var n=e.actionMessage,t=e.action,a=e.sendMessage,i=e.actionNotClicked,r=e.isRecommendedAction,o=Object(m.b)(),s=Object(l.c)((function(e){return{isMessageLoading:e.behavior.messageLoader}})).isMessageLoading;return Object(c.d)(b.a,{disabled:s,variant:"secondary",size:"small",onClick:function(){if(r&&i){var e=new Date;w.a.setItem(S,e.toISOString(),(function(e){return e}))}a(n,t),o({trackingData:{input_text:n,timestamp:Date.now()},trackingName:"ai_course_coach_recommended_action",action:"click_send_message"})}},n)},k=n("DxU6"),C=n.n(k),S="coursera_coach_recommended_action_click",x={container:Object(c.c)(t||(t=o()(["\n    margin: var(--cds-spacing-200) 0 var(--cds-spacing-200);\n  "]))),flexContainer:Object(c.c)(a||(a=o()(["\n    gap: var(--cds-spacing-100);\n  "]))),label:Object(c.c)(i||(i=o()(["\n    margin-bottom: var(--cds-spacing-150);\n  "])))},components_RecommendedActions=function(e){var n=e.recommendedActions,t=e.sendMessage,a=e.timestamp,i=w.a.getItem(S,(function(e){return e}),""),r=s.useMemo((function(){return n.every((function(e){return e.action===g.a.GenericAction}))}),[n]),o=new Date(i),d=a.getTime()<=o.getTime(),l=!i,u=l||d;return Object(c.d)(f.a,{container:!0,css:x.container},r&&u&&Object(c.d)(v.a,{css:x.label},C()("And if you want to continue exploring this topic, try one of these follow-up questions:")),Object(c.d)(f.a,{xs:12,container:!0,item:!0,css:x.flexContainer,wrap:"wrap"},n.map((function(e){var n=e.action,a=e.actionMessage;return Object(c.d)(RecommendedActions_Action,{action:n,actionMessage:a,key:a,sendMessage:t,actionNotClicked:l,isRecommendedAction:r})}))))},O=n("fsL8"),y=n.n(O),j=n("yXPU"),E=n.n(j),N=n("J4zp"),I=n.n(N),A=n("6OIj"),L=n("xeAZ"),F=n.n(L),T=n("291/"),M=n("ntUh");var R,D,V=n("saWA"),B=n("TSYQ"),H=n.n(B),U=n("Z3v1"),z=n("cVIm"),P=n("fAYU");var q,K,W,G,Z,Q,components_Footer=function(){return Object(c.d)(v.a,{variant:"body2",color:"supportText",css:Object(c.c)(R||(R=o()(["\n        margin: var(--cds-spacing-200);\n        padding: 0 var(--cds-spacing-100);\n      "])))},Object(c.d)(U.FormattedMessage,{message:C()("Since Coach is powered by AI, sometimes its answers may be inaccurate. {privacyNotice}."),privacyNotice:Object(c.d)(P.a,{href:"".concat(z.a.url.base,"about/privacy?trk_ref=coach"),target:"_blank",rel:"noreferrer",css:Object(c.c)(D||(D=o()(["\n              color: inherit;\n            "])))},C()("View Coursera's Privacy Notice"))}))},Y=n("zyGl"),J=n("Ji5S"),X=n("5x5m"),ee=n("pVnL"),ne=n.n(ee),te=n("sBcU"),CoachIconButton_CoachIconButton=function(e){return s.createElement(te.a,ne()({className:"coach-icon-button"},e))},CoachIconButton_CoachIconButtonSmall=function(e){return s.createElement(te.a,ne()({className:"coach-icon-button",variant:"ghost",size:"small"},e))};var ae,ie,components_Header=function(e){var n=e.toggleChat,t=e.isFullScreen,a=e.toggleFullScreen,i=e.showCloseButton,r=e.showFullScreenButton,s=e.handleNewSession,d=Object(m.b)();return Object(c.d)(f.a,{container:!0,className:"rcw-header",justifyContent:"space-between",css:Object(c.c)(q||(q=o()(["\n        padding: var(--cds-spacing-100) var(--cds-spacing-150);\n        align-items: center;\n      "])))},Object(c.d)(f.a,{item:!0},Object(c.d)(Y.a,{css:Object(c.c)(K||(K=o()(["\n            margin: 0 var(--cds-spacing-100) 0 0;\n          "])))}),W||(W=Object(c.d)(X.b,null))),Object(c.d)(f.a,{item:!0,alignItems:"center",justifyContent:"flex-end"},!!s&&Object(c.d)(CoachIconButton_CoachIconButtonSmall,{"aria-label":C()("Start a new chat"),tooltip:C()("Start a new chat. This will clear your chat history so you can start fresh."),tooltipPlacement:"bottom",onClick:function(){d({trackingData:{timestamp:Date.now()},trackingName:"ai_course_coach_chat_header_new_session_button",action:"click"}),s()},"data-testid":"rcw-new-chat",icon:G||(G=Object(c.d)(J.c,null))}),r&&Object(c.d)(CoachIconButton_CoachIconButtonSmall,{icon:Z||(Z=Object(c.d)(J.b,null)),onClick:function(){d({trackingData:{timestamp:Date.now()},trackingName:"ai_course_coach_chat_header_full_screen_".concat(t?"collapse":"expand","_button"),action:"click"}),a()},tooltipPlacement:"bottom","aria-label":t?C()("Minimize coursera coach chat."):C()("Maximize coursera coach chat."),tooltip:t?C()("Minimize"):C()("Maximize"),"data-testid":t?C()("rcw-minimize"):C()("rcw-maximize")}),i&&Object(c.d)(CoachIconButton_CoachIconButtonSmall,{icon:Q||(Q=Object(c.d)(J.a,null)),"aria-label":C()("Close chat"),tooltip:C()("Close chat"),tooltipPlacement:"bottom",onClick:function(){d({trackingData:{timestamp:Date.now()},trackingName:"ai_course_coach_chat_header_close_button",action:"click"}),n()},"data-testid":"rcw-close"})))},re=n("0F5w");function LoadingView(){return Object(c.d)("div",{css:Object(c.c)(ae||(ae=o()(["\n        position: absolute;\n        top: 50%;\n        left: 50%;\n        right: 50%;\n      "])))},ie||(ie=Object(c.d)(re.a,null)))}var oe,ce,se,de,le,ue,me,pe,he=n("kgYC"),ge=n("lPk7"),assets_CoachIcon=function(e){var n=e.useBlueOutline,t=void 0!==n&&n;return(s.createElement("svg",{className:"coach-icon",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},s.createElement("circle",{cx:"12",cy:"12",r:"11.5",fill:"white",stroke:t?"#3587fc":"#404B61"}),oe||(oe=s.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.55006 14.7299C6.02984 14.7299 4.79746 13.4975 4.79746 11.9773C4.79746 10.457 6.02984 9.22467 7.55006 9.22467C9.07028 9.22467 10.3027 10.457 10.3027 11.9773C10.3027 13.4975 9.07028 14.7299 7.55006 14.7299ZM3.84439 11.1472C4.22299 9.44957 5.73833 8.18058 7.55006 8.18058C9.24115 8.18058 10.674 9.2862 11.1652 10.814C11.4232 10.6492 11.7297 10.5536 12.0585 10.5536C12.3875 10.5536 12.6941 10.6492 12.9521 10.8142C13.4432 9.28628 14.8761 8.18058 16.5673 8.18058C18.379 8.18058 19.8944 9.44957 20.273 11.1472H21.9998V12.1913H20.358C20.2471 14.1886 18.5923 15.774 16.5673 15.774C14.5502 15.774 12.9004 14.2009 12.7779 12.2147H12.7704C12.7704 11.8215 12.4517 11.5028 12.0585 11.5028C11.6654 11.5028 11.3466 11.8215 11.3466 12.2147H11.3394C11.2169 14.2009 9.56717 15.774 7.55006 15.774C5.52503 15.774 3.87029 14.1886 3.7593 12.1913H2V11.1472L3.84439 11.1472ZM16.5673 14.7299C15.0471 14.7299 13.8147 13.4975 13.8147 11.9773C13.8147 10.457 15.0471 9.22467 16.5673 9.22467C18.0875 9.22467 19.3199 10.457 19.3199 11.9773C19.3199 13.4975 18.0875 14.7299 16.5673 14.7299ZM7.65228 12.9737C8.13253 12.9737 8.52185 12.487 8.52185 11.8867C8.52185 11.2864 8.13253 10.7998 7.65228 10.7998C7.17203 10.7998 6.78271 11.2864 6.78271 11.8867C6.78271 12.487 7.17203 12.9737 7.65228 12.9737ZM16.3479 12.9737C16.8282 12.9737 17.2175 12.4871 17.2175 11.8867C17.2175 11.2864 16.8282 10.7998 16.3479 10.7998C15.8677 10.7998 15.4783 11.2864 15.4783 11.8867C15.4783 12.4871 15.8677 12.9737 16.3479 12.9737ZM13.9519 15.8348C14.0905 15.9366 14.1194 16.1301 14.0163 16.267C13.3967 17.0896 12.6232 17.4148 11.9858 17.4148C11.2628 17.4148 10.4187 17.0215 9.96566 16.3506C9.86982 16.2086 9.90867 16.0168 10.0524 15.9222C10.1962 15.8276 10.3904 15.8659 10.4863 16.0079C10.8154 16.4952 11.4573 16.797 11.9858 16.797C12.4043 16.797 12.9996 16.5816 13.5141 15.8984C13.6173 15.7615 13.8132 15.733 13.9519 15.8348Z",fill:"#1E2229"}))))},fe=n("HDKb"),ve=n("5mFy"),be=n("7Dw/"),we=n("wd/R"),ke=n.n(we),Ce=n("GXs9"),Se=n("JJfJ");function generateConsumerVideoLink(e){var n=e.courseSlug,t=e.itemSlug,a=e.itemId;return e.courseId===e.currentCourseId?"/learn/".concat(n,"/lecture/").concat(a,"/").concat(t):"/lecture/".concat(n,"/").concat(t,"-").concat(a)}var ClipRecommendations_Clip=function(e){var n=e.course,t=n.slug,a=n.name,i=n.id,r=e.duration,d=e.itemId,l=e.itemSlug,u=e.itemTitle,p=e.partners,h=e.previewImage,g=e.currentCourseId,f=Object(he.a)(),b=Object(m.b)(),w={imgParams:{fit:"fill",auto:"format,compress",quality:"80"},maxWidth:"20px"};return Object(c.d)("div",{className:"rcw-citation-clip",css:Object(c.c)(ce||(ce=o()(["\n        display: flex;\n        margin: ",";\n      "])),f.spacing(4,0,16,0))},Object(c.d)("div",{css:Object(c.c)(se||(se=o()(["\n          width: 90px;\n          min-width: 90px;\n          max-width: 90px;\n          margin: ",";\n        "])),f.spacing(0,8))},Object(c.d)(Ce.a,ne()({},{alt:"",imgParams:{fit:"fill",auto:"format,compress",quality:"80"},maxWidth:"90px"},{src:h,style:{border:"1px solid ".concat(f.palette.gray[300]),"border-radius":"4px"}}))),Object(c.d)("div",null,Object(c.d)("div",{css:Object(c.c)(de||(de=o()(["\n            display: flex;\n            flex-wrap: wrap;\n          "])))},p&&p.length>0&&Object(c.d)(s.Fragment,null,p[0].logo&&Object(c.d)("div",{css:Object(c.c)(le||(le=o()(["\n                    height: 22px;\n                    width: 22px;\n                    border: 1px solid ",";\n                    border-radius: 4px;\n                    margin: ",";\n                  "])),f.palette.gray[300],f.spacing(0,4,0,0))},Object(c.d)(Ce.a,ne()({},w,{alt:C()("Logo for #{name}",{name:p[0].name}),src:p[0].logo,style:{"margin-bottom":"4px"}}))),p.length>1&&p[1].logo&&Object(c.d)("div",{css:Object(c.c)(ue||(ue=o()(["\n                    height: 22px;\n                    width: 22px;\n                    border: 1px solid ",";\n                    border-radius: 4px;\n                    margin: ",";\n                  "])),f.palette.gray[300],f.spacing(0,4,0,0))},Object(c.d)(Ce.a,ne()({},w,{alt:C()("Logo for #{name}",{name:p[1].name}),src:p[1].logo,style:{"margin-bottom":"4px"}})))),Object(c.d)(v.a,{component:"span",variant:"body2",color:"supportText"},p&&p.length>1?C()("#{partner1}, #{partner2}",{partner1:p[0].name,partner2:p[1].name}):p&&p[0].name)),Object(c.d)(v.a,{variant:"h3semibold",css:Object(c.c)(me||(me=o()(["\n            margin: ",";\n          "])),f.spacing(4,0,4,0))},u),Object(c.d)(v.a,{component:"span",variant:"body2",color:"supportText"},C()("From the course: ")),Object(c.d)(v.a,{component:"span",variant:"body2",color:"supportText"},a),Object(c.d)(v.a,{variant:"body2",color:"supportText",css:Object(c.c)(pe||(pe=o()(["\n            margin: ",";\n          "])),f.spacing(0,0,4,0))},Object(Se.x)(ke.a.duration(r))),Object(c.d)(P.a,{href:generateConsumerVideoLink({courseSlug:t,itemSlug:l,itemId:d,courseId:i,currentCourseId:g})+"?backenabled=1",variant:"quiet",typographyVariant:"body2",onClick:function(){b({trackingData:{course_slug:t,item_slug:l,item_id:d,timestamp:Date.now()},trackingName:"ai_course_coach_chat_clip_recommendation_clip_link",action:"click"})}},C()("Open video page"))))};var xe,Oe=m.a.withVisibilityTracking((function(e){var n=e.clips,t=e.courseId,a=Object(m.b)();return s.createElement(fe.a,{variant:"silent",className:"rcw-ClipRecommendations",onChange:function(e,n){var t=n?"expand":"collapse";a({trackingData:{timestamp:Date.now()},trackingName:"ai_course_coach_chat_clip_recommendation_accordion_".concat(t),action:"click"})}},s.createElement(ve.a,{label:C()("Explore this topic with related video clips")}),s.createElement(be.a,null,n.map((function(e){return s.createElement(ClipRecommendations_Clip,ne()({},e,{currentCourseId:t}))}))))})),ye=n("VTZa");function isAlphaCharacters(e){var n,t,a;for(t=0,a=e.length;t<a;t++)if(!((n=e.charCodeAt(t))>64&&n<91||n>96&&n<123))return!1;return!0}function firstnameInitialFromName(e){var n=function extractFirstAndLastNames(e){var n=e.length-1,t=[];if(!e||e.length<1)return["-","-"];if(e[0]&&!isAlphaCharacters(e[0][0])&&e.shift(),e[n]&&!isAlphaCharacters(e[n])&&e.pop(),e.length-1!==n)return extractFirstAndLastNames(e);if(e[0]){var a=e[0];t.push(a)}if(0!==n&&e[n]){var i=e[n];t.push(i)}return t}(e.split(" ")),t=I()(n,2),a=t[0],i=(t[1],a?a[0]:"");return"".concat(i)}var je,LearnerAvatar_LearnerAvatar=function(e){var n=e.imageUrl,t=e.fullName,a=t&&firstnameInitialFromName(t)||"-";return Object(c.d)(ye.a,{"aria-label":C()("Learner avatar"),variant:"user",size:24,showBorder:!1,initial:a,imgProps:{src:n},css:Object(c.c)(xe||(xe=o()(["\n        flex-shrink: 0;\n      "])))})},Ee=n("Xx5p"),Ne="hh:mm A";var Ie,_e,components_Timestamp=function(e){var n=e.timestamp;return Object(c.d)("span",{className:"rcw-timestamp",css:Object(c.c)(je||(je=o()(["\n        ",";\n        font-size: 10px;\n        margin-top: 5px;\n      "])),Ee.a.body1)},Object(Se.w)(n,Ne))},Ae=Object(c.c)(Ie||(Ie=o()(["\n  .coach-glasses-fill-dark {\n    fill: #000;\n  }\n\n  .coach-glasses-fill-light {\n    fill: #fff;\n  }\n"])));function CoachSmileIcon(e){var n="light"===e.variant?"coach-glasses-fill-light":"coach-glasses-fill-dark";return Object(c.d)("svg",{css:Ae,xmlns:"http://www.w3.org/2000/svg",viewBox:"120.0 80.0 350.0 350.0",fill:"none",stroke:"none",strokeLinecap:"square",strokeMiterlimit:"10"},Object(c.d)("g",{clipPath:"url(#g1e02e13141a_0_86.0)"},Object(c.d)("path",{className:n,d:"m154.00131 259.74014l0 0c0 -34.65042 28.089722 -62.740143 62.740158 -62.740143l0 0c16.639725 0 32.59793 6.6101074 44.364 18.37616c11.766052 11.7660675 18.37616 27.724274 18.37616 44.363983l0 0c0 34.65045 -28.089722 62.740173 -62.740158 62.740173l0 0c-34.650436 0 -62.740158 -28.089722 -62.740158 -62.740173zm17.99263 0l0 0c0 24.71341 20.03415 44.74756 44.747528 44.74756c24.713379 0 44.747543 -20.03415 44.747543 -44.74756c0 -24.713364 -20.034164 -44.747528 -44.747543 -44.747528l0 0c-24.713379 0 -44.747528 20.034164 -44.747528 44.747528z",fillRule:"evenodd"}),Object(c.d)("path",{className:n,d:"m310.5013 259.74014l0 0c0 -34.65042 28.089722 -62.740143 62.740143 -62.740143l0 0c16.63974 0 32.59793 6.6101074 44.364014 18.37616c11.766052 11.7660675 18.37616 27.724274 18.37616 44.363983l0 0c0 34.65045 -28.089722 62.740173 -62.740173 62.740173l0 0c-34.65042 0 -62.740143 -28.089722 -62.740143 -62.740173zm17.992615 0l0 0c0 24.71341 20.03415 44.74756 44.747528 44.74756c24.71341 0 44.74756 -20.03415 44.74756 -44.74756c0 -24.713364 -20.03415 -44.747528 -44.74756 -44.747528l0 0c-24.713379 0 -44.747528 20.034164 -44.747528 44.747528z",fillRule:"evenodd"}),Object(c.d)("path",{className:n,d:"m257.64163 242.08545l0 0c6.5712585 -14.1698 20.832336 -23.177536 36.450928 -23.02359c15.618622 0.15396118 29.69934 9.441071 35.99002 23.73764l-17.426147 7.6677246c-3.2775574 -7.4487915 -10.613922 -12.287567 -18.751526 -12.367783c-8.137604 -0.080200195 -15.567902 4.6130066 -18.991669 11.995758z",fillRule:"evenodd"}),Object(c.d)("path",{id:"right-eye",cx:"257",cy:"257",className:n,d:"m216.4155 265.64664l0 0c0 -7.566742 6.1340637 -13.700775 13.70079 -13.700775l0 0c3.6336823 0 7.1185303 1.4434662 9.687927 4.012863c2.569397 2.5694122 4.012863 6.054245 4.012863 9.687912l0 0c0 7.566742 -6.1340485 13.700806 -13.70079 13.700806l0 0c-7.5667267 0 -13.70079 -6.1340637 -13.70079 -13.700806z",fillRule:"evenodd"}),Object(c.d)("path",{id:"left-eye",className:n,d:"m343.0373 265.64664l0 0c0 -7.566742 6.1340637 -13.700775 13.700806 -13.700775l0 0c3.633667 0 7.1184998 1.4434662 9.687897 4.012863c2.569397 2.5694122 4.0128784 6.054245 4.0128784 9.687912l0 0c0 7.566742 -6.1340637 13.700806 -13.700775 13.700806l0 0c-7.566742 0 -13.700806 -6.1340637 -13.700806 -13.700806z",fillRule:"evenodd"}),Object(c.d)("path",{className:n,d:"m328.37347 333.21335l0 0c-6.8821106 12.243011 -19.701324 19.95874 -33.7417 20.308746c-14.040344 0.3499756 -27.228088 -6.7174683 -34.71164 -18.602386l8.925354 -5.619995l0 0c5.502655 8.738983 15.199585 13.935669 25.523468 13.678314c10.323883 -0.25732422 19.749847 -5.930725 24.810272 -14.932983z",fillRule:"evenodd"}),Object(c.d)("path",{className:n,d:"m141.76114 235.90277l0 0c0 -5.5532227 4.5017853 -10.055008 10.055008 -10.055008l11.701004 0l0 0c2.6667633 0 5.224289 1.059372 7.10997 2.945053c1.8856812 1.8856812 2.9450378 4.443207 2.9450378 7.109955l0 7.291565c0 5.5532227 -4.50177 10.055008 -10.055008 10.055008l-11.701004 0c-5.5532227 0 -10.055008 -4.5017853 -10.055008 -10.055008z",fillRule:"evenodd"}),Object(c.d)("path",{className:n,d:"m417.23877 235.90277l0 0c0 -5.5532227 4.50177 -10.055008 10.055023 -10.055008l11.700989 0l0 0c2.666748 0 5.224304 1.059372 7.1099854 2.945053c1.8856506 1.8856812 2.9450378 4.443207 2.9450378 7.109955l0 7.291565c0 5.5532227 -4.5018005 10.055008 -10.055023 10.055008l-11.700989 0c-5.553253 0 -10.055023 -4.5017853 -10.055023 -10.055008z",fillRule:"evenodd"}),Object(c.d)("path",{className:n,d:"m319.48215 327.40158l0 0c1.4785767 -2.5309448 4.7289124 -3.3840942 7.259857 -1.9055176l0 0c1.2153931 0.710022 2.0989685 1.8737793 2.4562988 3.23526c0.35736084 1.3614807 0.15924072 2.8091736 -0.55078125 4.0245667l0 0c-1.4785767 2.5309448 -4.7289124 3.3840637 -7.259857 1.9055176l0 0c-2.5309448 -1.4785461 -3.3840637 -4.7289124 -1.9055176 -7.2598267z",fillRule:"evenodd"}),Object(c.d)("path",{className:n,d:"m259.73413 329.27557l0 0c1.4785461 -2.5309448 4.728882 -3.3840637 7.2598267 -1.9055176l0 0c1.2154236 0.7100525 2.0989685 1.8738098 2.4563293 3.2352905c0.35736084 1.3614807 0.1592102 2.8091736 -0.55081177 4.0245667l0 0c-1.4785461 2.5309448 -4.728882 3.3840637 -7.2598267 1.9055176l0 0c-2.5309448 -1.4785767 -3.3840942 -4.7289124 -1.9055176 -7.259857z",fillRule:"evenodd"}),Object(c.d)("path",{className:n,fillOpacity:"0.0",d:"m29.997375 27.0l46.401573 0l0 42.534775l-46.401573 0z",fillRule:"evenodd"})))}var Le,Fe,Te,Me,Re,De,Ve,Be,He,Ue,ze,Pe,qe={container:function(e){return Object(c.c)(_e||(_e=o()(["\n      margin-bottom: ",";\n    "])),e.spacing(16))}},HomeView_QuickMessage=function(e){var n=e.message,t=e.onClick;return Object(c.d)(f.a,{container:!0,css:qe.container},Object(c.d)(f.a,{item:!0,xs:11},Object(c.d)(b.a,{variant:"secondary",size:"small",fullWidth:!1,onClick:function(){return t(n)}},n)))},Ke={heading:function(e){return Object(c.c)(Le||(Le=o()(["\n      margin: ",";\n    "])),e.spacing(0,0,32,0))},icon:function(){return Object(c.c)(Fe||(Fe=o()(["\n      margin: 0 auto;\n      width: 65px;\n    "])))}},components_HomeView_HomeView=function(e){var n=e.title,t=e.subtitle,a=e.quickMessages,i=e.sendMessage,r=Object(m.b)(),s=Object(he.a)(),d=a||[],l=n||C()("Ask me anything about what you're learning. I'm here to help!"),u=t||C()("To get started, type your question below or try one of these examples:");return Object(c.d)("div",{className:"rcw-home-view",css:Object(c.c)(Te||(Te=o()(["\n        padding: ",";\n        height: 100%;\n        background-color: var(--cds-color-neutral-primary-invert);\n        border-radius: 0 16px 16px 16px;\n      "])),s.spacing(0,24,24))},Object(c.d)("div",{css:Ke.heading},Object(c.d)("div",{css:Ke.icon},Me||(Me=Object(c.d)(CoachSmileIcon,{variant:"dark","aria-hidden":!0}))),Object(c.d)(v.a,{variant:"h3semibold"},l),Object(c.d)(v.a,{variant:"body1",css:Object(c.c)(Re||(Re=o()(["\n            margin: ",";\n          "])),s.spacing(12,0,24,0))},u)),d.map((function(e){var n=e.message,t=e.action,a=e.onClick;return Object(c.d)(HomeView_QuickMessage,{key:n,message:n,onClick:function(){i(n,t),null==a||a(),r({trackingData:{example_text:n,timestamp:Date.now()},trackingName:"ai_course_coach_chat_quick_example",action:"click"})}})})))},We=n("urMC"),Ge=n("3tO9"),Ze=n.n(Ge),Qe=n("Gcrz"),Feedback_Dislike=function(e){var n=e.selected,t=e.onSelect,a=e.onDeselect;return(s.createElement("div",{"data-testId":"dislike-component"},n?s.createElement(CoachIconButton_CoachIconButtonSmall,{"data-testId":"thumbs-down-filled-icon","aria-label":C()("Cancel dislike"),tooltip:"",onClick:a,icon:De||(De=s.createElement(J.f,{filled:!0}))}):s.createElement(CoachIconButton_CoachIconButtonSmall,{"data-testId":"thumbs-down-icon","aria-label":C()("Dislike"),tooltip:"",onClick:t,icon:Ve||(Ve=s.createElement(J.f,{filled:!1}))})))},Ye=n("QILm"),Je=n.n(Ye),$e=n("7NTc"),Xe=n("dhC9"),en=n("mk4A"),nn=["title","placeholder","onSubmit","onClose","onCancel"],Feedback_FeedbackModal=function(e){var n,t=e.title,a=e.placeholder,i=e.onSubmit,r=e.onClose,d=e.onCancel,l=Je()(e,nn),u=$e.a.Content,m=$e.a.Actions,p=s.useState(!0),h=I()(p,2),g=h[0],w=h[1],k=s.useRef(null);return Object(c.d)($e.a,ne()({"aria-describedby":"dialog-content",open:g,sticky:"actions",onClose:function(e){w(!1),r(e)}},l),Object(c.d)(en.a,null,Object(c.d)(u,{id:"dialog-content"},Object(c.d)(f.a,{container:!0},Object(c.d)(f.a,{item:!0,sm:12,xs:12},Object(c.d)(Xe.a,{maxLength:255,placeholder:a,inputRef:k,multiline:!0,fullWidth:!0,label:t,renderLabel:function(){return n||(n=Object(c.d)(v.a,{variant:"h1semibold"},t))}})))),Object(c.d)(m,{css:Object(c.c)(Be||(Be=o()(["\n            display: flex;\n          "])))},Object(c.d)(b.a,{size:"medium",variant:"primary",onClick:function(e){var n;return function(e){w(!1),i(e)}(Ze()(Ze()({},e),{},{data:{userComments:null===(n=k.current)||void 0===n?void 0:n.value}}))},css:Object(c.c)(He||(He=o()(["\n              margin: 0 24px 0 0;\n            "])))},C()("Submit")),Object(c.d)(b.a,{size:"medium",variant:"secondary",onClick:function(e){w(!1),d(e)}},C()("Cancel")))))},Feedback_Like=function(e){var n=e.selected,t=e.onSelect,a=e.onDeselect;return(s.createElement("div",null,n?s.createElement(CoachIconButton_CoachIconButtonSmall,{"aria-label":C()("Cancel like"),tooltip:"",onClick:a,icon:Ue||(Ue=s.createElement(J.g,{filled:!0}))}):s.createElement(CoachIconButton_CoachIconButtonSmall,{"aria-label":C()("Like"),tooltip:"",onClick:t,icon:ze||(ze=s.createElement(J.g,{filled:!1}))})))},tn=n("0/vS"),an=n.n(tn),components_Feedback=function(e){var n=e.message,t=Object(l.b)(),a=Object(m.b)(),i=s.useState(void 0),r=I()(i,2),o=r[0],c=r[1],d=n.customId,handleTracking=function(e){a({trackingData:{message_id:d,coach_response:n.text,timestamp:Date.now()},trackingName:e,action:"click"})};if(n.text!==Object(M.f)()){var u="";return o===M.b.like?u=C()("What do you like about this response?"):o===M.b.dislike&&(u=C()("How could this response be improved?")),s.createElement(s.Fragment,null,n.sender===M.e.RESPONSE&&s.createElement(Qe.b,{mutation:an.a,context:{clientName:"gatewayGql"}},(function(e){var a={messageId:d,userComments:void 0},onDeselect=function(){handleTracking("ai_course_coach_chat_user_feedback_remove_selection"),t(Object(V.p)(d)),e({variables:{input:Ze()(Ze()({},a),{},{userFeedback:M.b.unset})}}),c(void 0)};return s.createElement("div",{className:"rcw-feedback-container"},o&&s.createElement(Feedback_FeedbackModal,{title:u,onSubmit:function(n){var t,i,r;null!==(t=n.data)&&void 0!==t&&t.userComments&&(i={userComments:n.data.userComments},r=i.userComments,e({variables:{input:Ze()(Ze()({},a),{},{userFeedback:o,userComments:r})}})),handleTracking("ai_course_coach_chat_user_feedback_feedback_form_submit")},onClose:function(){handleTracking("ai_course_coach_chat_user_feedback_feedback_form_close")},onCancel:function(){handleTracking("ai_course_coach_chat_user_feedback_feedback_form_cancel")}}),s.createElement(Feedback_Like,{selected:n.userFeedback===M.b.like,onSelect:function(){handleTracking("ai_course_coach_chat_user_feedback_like_select"),c(M.b.like),t(Object(V.n)(d)),e({variables:{input:Ze()(Ze()({},a),{},{userFeedback:M.b.like})}})},onDeselect:onDeselect}),s.createElement(Feedback_Dislike,{selected:n.userFeedback===M.b.dislike,onSelect:function(){handleTracking("ai_course_coach_chat_user_feedback_dislike_select"),c(M.b.dislike),t(Object(V.o)(d)),e({variables:{input:Ze()(Ze()({},a),{},{userFeedback:M.b.dislike})}})},onDeselect:onDeselect}))})))}return null},rn={loaderContainer:Object(c.c)({margin:"0 0 0 var(--cds-spacing-600)"}),cursor:function(e){var n=e.color,t=void 0===n?"grey":n,a=Object(c.e)(Pe||(Pe=o()(["\n      0% {background: transparent}\n      50% {background: ","}}\n      100% {background: transparent}\n    "])),t);return Object(c.c)({animationName:a,animationIterationCount:"infinite",height:"1.3rem",width:"0.6rem",animationDuration:"1s",display:"inline-block"})}};var on,cn,sn,dn,ln,un,mn,pn,hn,gn,components_Loader=function(){return Object(c.d)("div",{css:rn.loaderContainer},Object(c.d)("span",{css:rn.cursor({color:"grey"})}))},fn={messagesContainer:function(){return Object(c.c)(on||(on=o()(["\n    /* Hide scrollbar for Chrome, Safari and Opera */\n    ::-webkit-scrollbar {\n      display: none;\n    }\n\n    /* Hide scrollbar for IE, Edge and Firefox */\n    -ms-overflow-style: none; /* IE and Edge */\n    scrollbar-width: none; /* Firefox */\n  "])))},message:function(){return Object(c.c)(cn||(cn=o()(["\n    padding: var(--cds-spacing-300) var(--cds-spacing-200);\n    word-wrap: break-word;\n    display: flex;\n    gap: var(--cds-spacing-100);\n\n    svg {\n      flex-shrink: 0;\n    }\n\n    :not(.rcw-message-client) {\n      border-radius: 0 16px 16px 16px;\n    }\n\n    .rcw-message-client {\n      flex-direction: row;\n    }\n  "])))}},components_Messages=function(e){var n=e.profileClientAvatar,t=e.showTimeStamp,a=e.homeView,i=e.sendMessage,r=e.courseId,d=Object(he.a)(),u=Object(l.b)(),m=Object(l.c)((function(e){return{messages:e.messages.messages,badgeCount:e.messages.badgeCount,typing:e.behavior.messageLoader,showChat:e.behavior.showChat}})),p=m.messages,g=m.typing,f=m.showChat,v=m.badgeCount,b=Object(s.useRef)(null);Object(s.useEffect)((function(){null!=p&&p.length&&Object(We.d)(b.current),f&&v&&u(Object(V.h)())}),[u,v,f,p]),Object(s.useEffect)((function(){null!=p&&p.length&&Object(We.d)(b.current)}),[g,p]);var isClient=function(e){return e===M.e.CLIENT},isCoachResponse=function(e){return e===M.e.RESPONSE};return Object(c.d)("div",{id:"messages",className:"rcw-messages-container",ref:b,css:fn.messagesContainer},!(null!=p&&p.length)&&Object(c.d)(components_HomeView_HomeView,{sendMessage:i,quickMessages:null==a?void 0:a.quickMessages,title:null==a?void 0:a.title,subtitle:null==a?void 0:a.subtitle}),null==p?void 0:p.map((function(e,a){var l,u=e.timestamp,m=e.sender,p=e.clipRecommendations,g=e.recommendedActions;return Object(c.d)("div",{className:"rcw-message ".concat(isClient(m)?"rcw-message-client":""),key:"".concat(a,"-").concat(u.valueOf()),css:fn.message},isClient(m)?Object(c.d)(LearnerAvatar_LearnerAvatar,{imageUrl:n,fullName:null===(l=h.a.get())||void 0===l?void 0:l.fullName}):sn||(sn=Object(c.d)(assets_CoachIcon,{useBlueOutline:!0})),Object(c.d)("div",{css:Object(c.c)(dn||(dn=o()(["\n                overflow: auto;\n              "])))},function(e){var n=e.component;return"component"===e.type?Object(c.d)(n,e.props):Object(c.d)(n,{message:e})}(e),isCoachResponse(m)&&null!=p&&p.length?Object(c.d)(s.Fragment,null,Object(c.d)(ge.a,{color:"dark",css:Object(c.c)(ln||(ln=o()(["\n                      margin: ",";\n                    "])),d.spacing(8,0))}),Object(c.d)(Oe,{clips:p,trackingName:"ai_course_coach_clips_recommendation",courseId:r})):null,isCoachResponse(m)&&null!=g&&g.length?Object(c.d)(components_RecommendedActions,{recommendedActions:g,sendMessage:i,timestamp:u}):null,Object(c.d)("div",{css:Object(c.c)(un||(un=o()(["\n                  display: flex;\n                "])))},t&&Object(c.d)(components_Timestamp,{timestamp:u}),Object(c.d)(components_Feedback,{message:e}))))})),g&&(mn||(mn=Object(c.d)(components_Loader,null))))},vn=7,bn={textBox:Object(c.c)(pn||(pn=o()(["\n    > label {\n      margin-bottom: 0;\n    }\n\n    /* CDS overrides for Coach */\n    .cds-text-field-root {\n      border-radius: var(--cds-spacing-100);\n\n      /* remove border on the input field */\n      .cds-input-notchedOutline {\n        border: none;\n      }\n\n      .cds-inputAdornment-filled {\n        padding: 0;\n        background-color: transparent;\n      }\n\n      &.cds-input-focused::before {\n        border-radius: var(--cds-spacing-100);\n      }\n\n      &:hover {\n        .cds-inputAdornment-root {\n          background-color: transparent;\n        }\n\n        .cds-input-notchedOutline {\n          border: 1px solid #1e72eb; /* todo: use new coach token */\n        }\n      }\n    }\n  "]))),container:Object(c.c)(hn||(hn=o()(["\n    padding: 0 var(--cds-spacing-150);\n  "])))};function Sender(e){var n=e.sendMessage,t=e.placeholder,a=e.disabledInput,i=e.autofocus,r=e.onTextInputChange,o=Object(l.c)((function(e){return e.behavior.showChat})),d=Object(l.c)((function(e){return e.input.inputText})),u=Object(s.useRef)(null),p=Object(s.useRef)(null),h=Object(m.b)();Object(s.useEffect)((function(){var e;o&&i&&(null===(e=u.current)||void 0===e||e.focus())}),[i,o]);var handleSendMessageClick=function(){n(d,g.a.TypedMessage),h({trackingData:{input_text:d,timestamp:Date.now()},trackingName:"ai_course_coach_chat_send_message",action:"click_send_message"}),Object(T.c)()},handlePaste=function(e){var n,t=null==e?void 0:null===(n=e.clipboardData)||void 0===n?void 0:n.getData("text/plain");t&&h({trackingData:{input_text:t,timestamp:Date.now()},trackingName:"ai_course_coach_chat_paste_message",action:"paste_message"})};Object(s.useEffect)((function(){var e=null;return u.current&&(e=u.current).addEventListener("paste",handlePaste),function(){e&&e.removeEventListener("paste",handlePaste)}}),[]);var f={onKeyPress:function(e){13!==e.charCode||e.shiftKey||(e.preventDefault(),handleSendMessageClick())}};return Object(c.d)("div",{ref:p,css:bn.container},Object(c.d)("div",{className:H()("rcw-new-message",{"rcw-message-disable":a})},Object(c.d)(Xe.a,{fullWidth:!0,multiline:!0,minRows:1,maxRows:vn,label:"",type:"text",readOnly:a,inputRef:u,placeholder:t,onChange:function(e){var n=e.target.value;r&&r(n),Object(T.j)(n)},value:d,inputProps:f,css:bn.textBox,"data-testid":"rcw-send-message",suffix:Object(c.d)(CoachIconButton_CoachIconButton,{tooltip:"",variant:"ghost",onClick:handleSendMessageClick,disabled:a,"aria-label":C()("Send message"),"data-testid":"rcw-send-button",icon:gn||(gn=Object(c.d)(J.d,null))})})))}var wn,kn,Cn,Sn,xn,On,yn,jn,En,Nn,In,_n,An,Ln,Fn,Tn,Mn,Rn,Dn,Vn,Bn=Object(s.forwardRef)(Sender),Hn=410,Un=663,zn="100vh",Pn=90,qn=20,Kn=Object(c.e)(wn||(wn=o()(["\n  100% {\n    height: 100%;\n    width: 100%;\n    right: 0;\n    bottom: 0;\n    max-width: 100vw;\n  }\n"]))),Wn=Object(c.e)(kn||(kn=o()(["\n  0% {\n    height: 100%;\n    width: 100%;\n    right: 0;\n    bottom: 0;\n    max-width: 100vw;\n  }\n  100% {\n    height: ","px;\n    width: ","px;\n    right: ",";\n    bottom: ",";\n    max-width: ","px;\n  }\n"])),Un,Hn,qn,Pn,Hn),Gn={enterFullScreenAnimation:Kn,exitFullScreenAnimation:Wn,container:Object(c.c)(Cn||(Cn=o()(["\n    height: ","px;\n    width: ","px;\n    right: ",";\n    bottom: ",";\n    max-width: ","px;\n    max-height: ",";\n\n    @media screen and (max-width: 800px) {\n      width: 100vw !important;\n      max-width: 100vw !important;\n    }\n\n    @media screen and (max-width: 450px) {\n      height: 100vh !important;\n      top: 0 !important;\n      bottom: 0 !important;\n      right: 0 !important;\n      left: 0 !important;\n      position: fixed !important;\n    }\n\n    animation-fill-mode: both;\n\n    .rcw-messages-container {\n      max-height: 100%;\n      height: 100%;\n    }\n  "])),Un,Hn,qn,Pn,Hn,zn),exitFullScreen:Object(c.c)(Sn||(Sn=o()(["\n    position: fixed !important;\n    right: 20px;\n    bottom: 90px;\n    z-index: 9999;\n    max-width: 100vw;\n\n    .rcw-messages-container {\n      max-width: 100% !important;\n      height: 100% !important;\n    }\n\n    background-color: white;\n    animation-property: bottom, right, min-width, min-height, max-width, max-height !important; /* stylelint-disable-line property-no-unknown */\n    animation-name: "," !important;\n    animation-delay: ","s;\n    animation-duration: ","s;\n    animation-fill-mode: backwards;\n  "])),Wn,.15,.3),fullScreen:Object(c.c)(xn||(xn=o()(["\n    position: fixed !important;\n    right: 20px;\n    bottom: 90px;\n    z-index: 9999;\n    max-width: 100vw;\n    background-color: white;\n    animation-fill-mode: forwards;\n    animation-property: bottom, right, min-width, min-height, max-width, max-height !important; /* stylelint-disable-line property-no-unknown */\n    animation-name: "," !important;\n    animation-delay: ","s;\n    animation-duration: ","s;\n\n    .rcw-messages-container {\n      max-height: 100%;\n      height: 100%;\n    }\n  "])),Kn,.15,.3)};var Zn={fullScreenMode:Object(c.c)(On||(On=o()(["\n    .ai-course-coach-widget {\n      overflow: hidden;\n    }\n  "]))),globalDesktop:Object(c.c)(yn||(yn=o()(["\n      .hide-smart-scroll-container,\n      .show-smart-scroll-container,\n      .SmartScrollWrapper {\n        z-index: -1 !important;\n      }\n    "]))),globalSmDown:function(e){return Object(c.c)(jn||(jn=o()(["\n    "," {\n      .show-smart-scroll-container {\n        z-index: -1 !important;\n      }\n    }\n    "," {\n      .ai-course-coach-widget {\n        overflow: hidden;\n      }\n    }\n\n    @media screen and (max-width: 800px) {\n      .ai-course-coach-widget {\n        overflow: hidden;\n      }\n    }\n  "])),e.breakpoints.down("sm"),e.breakpoints.down("xs"))},conversationContainerHeight:function(e){return Object(c.c)(En||(En=o()(["\n      ","\n    "])),!e&&Object(c.c)(Nn||(Nn=o()(["\n        max-height: 70vh;\n\n        @media screen and (max-width: 800px) {\n          max-height: 100vh;\n        }\n      "]))))},conversationContainer:Object(c.c)(In||(In=o()(["\n    width: 100%;\n    height: 100%;\n    display: flex;\n    flex-flow: column;\n  "]))),conversationContainerCenterFullScreen:Object(c.c)(_n||(_n=o()(["\n    @media screen and (min-width: 800px) {\n      width: 770px;\n      margin: 0 auto;\n    }\n  "]))),headerContainer:Object(c.c)(An||(An=o()(["\n    flex-grow: 0;\n  "]))),messageContainer:Object(c.c)(Ln||(Ln=o()(["\n    flex-grow: 1;\n    overflow-y: auto;\n    overflow-x: hidden;\n    justify-content: center;\n    max-width: 100%;\n    position: relative;\n  "]))),messageContainerConversationHistory:Object(c.c)(Fn||(Fn=o()(["\n    /* stylelint-disable-line no-empty-source */\n  "]))),messageContainerResponses:Object(c.c)(Tn||(Tn=o()(["\n    height: 100%;\n    width: 100%;\n    max-width: 770px;\n    margin: 0 auto;\n  "]))),senderContainer:Object(c.c)(Mn||(Mn=o()(["\n    flex-grow: 0;\n    width: 100%;\n    max-width: 770px;\n    margin: 0 auto;\n  "]))),footerContainer:Object(c.c)(Rn||(Rn=o()(["\n    flex-grow: 0;\n    max-width: 770px;\n    margin: 0 auto;\n  "])))};var Qn,Yn,components_Conversation=function(e){var n=e.senderPlaceHolder,t=e.showCloseButton,a=e.showFullScreenButton,i=e.isFullScreen,r=e.disabledInput,o=e.autofocus,d=e.className,l=e.sendMessage,u=e.toggleChat,m=e.toggleFullScreen,p=e.profileClientAvatar,h=e.onTextInputChange,g=e.showTimeStamp,f=e.handleNewSession,v=e.homeView,b=e.loading,w=e.courseId,k=function(e){var n=e.isFullScreen,t=Object(s.useState)([Gn.container]),a=I()(t,2),i=a[0],r=a[1];return{toggleFullScreenAnimation:function(){var e=n?[Gn.container,Gn.exitFullScreen]:[Gn.container,Gn.fullScreen];r(e)},fullScreenCSS:i}}({isFullScreen:i}),C=k.fullScreenCSS,S=k.toggleFullScreenAnimation;return Object(s.useEffect)((function(){return document.body&&document.body.classList.add("ai-course-coach-widget"),function(){document.body&&document.body.classList.remove("ai-course-coach-widget")}}),[]),Object(c.d)("div",{id:"rcw-conversation-container",className:H()("rcw-conversation-container",d),"aria-live":"polite",css:[C,Zn.conversationContainerHeight(i)]},Object(c.d)(c.b,{styles:i?[Zn.globalDesktop,Zn.fullScreenMode]:Zn.globalSmDown}),Object(c.d)("div",{css:Zn.conversationContainer},Object(c.d)("div",{css:Zn.headerContainer},Object(c.d)(components_Header,{toggleChat:u,showCloseButton:t,showFullScreenButton:a,toggleFullScreen:function(){S(),m()},isFullScreen:i,handleNewSession:f})),Object(c.d)("div",{css:[i&&Zn.conversationContainerCenterFullScreen,Zn.messageContainer]},Object(c.d)("div",{css:Zn.messageContainerResponses},b&&(Dn||(Dn=Object(c.d)(LoadingView,null))),!b&&Object(c.d)(components_Messages,{profileClientAvatar:p,showTimeStamp:g,homeView:v,sendMessage:l,courseId:w}))),Object(c.d)("div",{css:[i&&Zn.conversationContainerCenterFullScreen,Zn.senderContainer]},Object(c.d)(Bn,{sendMessage:l,placeholder:n,disabledInput:r,autofocus:o,onTextInputChange:h})),Object(c.d)("div",{css:[i&&Zn.conversationContainerCenterFullScreen,Zn.footerContainer]},Vn||(Vn=Object(c.d)(components_Footer,null)))))},Jn=n("VD++"),$n=["onClick","aria-label"],Xn=Object(c.c)(Qn||(Qn=o()(["\n  --button-size: 36px;\n\n  height: var(--button-size);\n  width: 107px;\n  position: fixed;\n  bottom: 24px;\n  right: 24px;\n  border-radius: var(--cds-spacing-100) var(--cds-spacing-100) 2px var(--cds-spacing-100);\n  background-color: #eaf3fe; /* todo: use new coach token */\n  cursor: pointer;\n  transition: all 0.2s cubic-bezier(0, 1, 0.9, 1);\n\n  .coach-ondemand-button-container {\n    overflow: hidden;\n    position: relative;\n    display: flex;\n    gap: var(--cds-spacing-100);\n    padding-left: var(--cds-spacing-100);\n    justify-content: center;\n    align-items: center;\n    border-radius: inherit;\n  }\n\n  .coach-bubble {\n    width: var(--button-size);\n    height: var(--button-size);\n    background-color: #3587fc1a; /* todo: use new coach token */\n    border-radius: inherit;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n  }\n\n  .coach-icon,\n  .coach-label {\n    z-index: 1;\n    transition: all 0.2s cubic-bezier(0, 1, 0.9, 1);\n  }\n\n  .hover-bubble {\n    background-color: #1e72eb; /* todo: use new coach token */\n    opacity: 0;\n    height: 0;\n    width: 0;\n    transition: all 0.2s ease-out;\n    border-radius: 50%;\n    right: -20px;\n    position: absolute;\n    z-index: 0;\n  }\n\n  &:hover,\n  &:focus-visible,\n  &:active {\n    .coach-label {\n      path {\n        fill: var(--cds-color-white-0);\n      }\n    }\n\n    .coach-icon {\n      circle {\n        stroke: #3587fc; /* todo: use new coach token */\n      }\n    }\n\n    .hover-bubble {\n      width: 200px;\n      height: 200px;\n      opacity: 1;\n    }\n  }\n\n  &:focus {\n    outline: none;\n  }\n\n  &.focusVisible {\n    &::after {\n      content: '';\n      position: absolute;\n      top: -2px;\n      left: -2px;\n      right: -2px;\n      bottom: -2px;\n      border-radius: var(--cds-spacing-100) var(--cds-spacing-100) 2px var(--cds-spacing-100);\n      box-shadow: 0 0 0 1px var(--cds-color-interactive-stroke-primary-focus),\n        0 0 0 2px var(--cds-color-interactive-stroke-primary-focus-invert);\n    }\n  }\n\n  &:active {\n    transform: scale3d(0.98, 0.98, 0.98);\n    border-radius: var(--cds-spacing-200);\n\n    .coach-bubble,\n    .hover-bubble {\n      border-radius: var(--cds-spacing-200);\n    }\n  }\n"]))),common_OnDemandButton=function(e){var n=e.onClick,t=e["aria-label"],a=Je()(e,$n);return Object(c.d)(Jn.a,ne()({"aria-label":t||C()("Chat with Coursera Coach, your AI-powered learning assistant"),disableRipple:!0,disableTouchRipple:!0,className:"coach-ondemand-button","data-testid":"coach-launcher-button",classes:{focusVisible:"focusVisible"},css:Xn,onClick:n},a),Yn||(Yn=Object(c.d)("div",{className:"coach-ondemand-button-container"},Object(c.d)(Y.a,{className:"coach-label"}),Object(c.d)("div",{className:"coach-bubble"},Object(c.d)(assets_CoachIcon,null),Object(c.d)("div",{className:"hover-bubble"})))))};var components_Launcher=function(e){var n=e.toggle,t=e.chatId,a=Object(l.b)(),i=Object(l.c)((function(e){return{showChat:e.behavior.showChat,badgeCount:e.messages.badgeCount}})),r=i.showChat,o=i.badgeCount,c=Object(m.b)();return s.createElement(common_OnDemandButton,{onClick:function(){c({trackingData:{badge_count:o,timestamp:Date.now()},trackingName:"ai_course_coach_chat_toggle",action:"click_".concat(r?"close":"open")}),n(),r||a(Object(V.k)(0))},"aria-controls":t})},et=n("IWWe"),nt="coursera_coach_tooltip_dont_show";var layout=function(e){var n=e.onSendMessage,t=e.onToggleConversation,a=e.onToggleFullScreen,i=e.senderPlaceHolder,r=e.profileClientAvatar,o=e.showCloseButton,d=e.showFullScreenButton,u=e.autofocus,m=e.customLauncher,p=e.onTextInputChange,h=e.chatId,g=(e.launcherOpenLabel,e.launcherCloseLabel,e.showTimeStamp),f=(e.showBadge,e.handleNewSession),v=e.homeView,b=e.loading,w=e.courseId,k=Object(l.c)((function(e){return{showChat:e.behavior.showChat,isFullScreen:e.behavior.isFullScreen,dissableInput:e.behavior.disabledInput}})),C=k.dissableInput,S=k.showChat,x=k.isFullScreen,O=Object(s.useRef)(null);return Object(s.useEffect)((function(){return S&&(O.current=document.getElementById("messages")),et.a.removeItem(nt),function(){O.current=null}}),[S]),Object(c.d)("div",{className:H()("rcw-widget-container",{"rcw-close-widget-container":!S})},S&&Object(c.d)(components_Conversation,{sendMessage:n,senderPlaceHolder:i,profileClientAvatar:r,toggleChat:t,showCloseButton:o,showFullScreenButton:d,isFullScreen:x,disabledInput:C,autofocus:u,className:S?"active":"hidden",onTextInputChange:p,showTimeStamp:g,toggleFullScreen:a,handleNewSession:f,homeView:v,loading:b,courseId:w}),m?m(t):Object(c.d)(components_Launcher,{toggle:function(){t()},chatId:h}))};var components_ChatWidget=function(e){var n=e.handleNewSession,t=e.senderPlaceHolder,a=e.profileClientAvatar,i=e.showCloseButton,r=e.showFullScreenButton,o=e.autofocus,c=e.customLauncher,d=e.handleNewUserMessage,u=e.handleTextInputChange,m=e.chatId,p=e.handleToggle,h=e.handleFullScreenToggle,g=e.launcherOpenLabel,f=e.launcherCloseLabel,v=(e.launcherCloseImg,e.launcherOpenImg,e.showTimeStamp),b=e.showBadge,w=e.homeView,k=e.loading,C=e.courseId,S=Object(l.b)(),x=Object(l.c)((function(e){return{showChat:e.behavior.showChat,isFullScreen:e.behavior.isFullScreen,dissableInput:e.behavior.disabledInput}})),O=x.showChat,y=x.isFullScreen;return s.createElement(layout,{onToggleConversation:function(){S(Object(V.r)()),null==p||p(O)},onToggleFullScreen:function(){S(Object(V.s)()),null==h||h(y)},onSendMessage:function(e,n){e.trim()&&d(e,n)},senderPlaceHolder:t,profileClientAvatar:a,showCloseButton:i,showFullScreenButton:r,handleNewSession:n,autofocus:o,customLauncher:c,onTextInputChange:u,chatId:m,launcherOpenLabel:g,launcherCloseLabel:f,showTimeStamp:v,showBadge:b,homeView:w,loading:k,courseId:C})};function ConnectedWidget(e){var n=e.senderPlaceHolder,t=e.showFullScreenButton,a=e.autofocus,i=e.profileClientAvatar,r=e.launcher,o=e.handleNewUserMessage,c=e.handleTextInputChange,d=e.chatId,l=e.handleToggle,u=e.launcherOpenLabel,m=e.launcherCloseLabel,p=e.launcherCloseImg,h=e.launcherOpenImg,g=e.showTimeStamp,f=(e.handleSubmit,e.showBadge),v=e.showCloseButton,b=e.handleNewSession,w=e.homeView,k=e.loading,C=e.courseId;return(s.createElement(components_ChatWidget,{handleNewUserMessage:o,senderPlaceHolder:n,profileClientAvatar:i,showCloseButton:v,showFullScreenButton:t,autofocus:a,customLauncher:r,handleTextInputChange:c,chatId:d,handleToggle:l,launcherOpenLabel:u,launcherCloseLabel:m,launcherCloseImg:p,launcherOpenImg:h,showTimeStamp:g,showBadge:f,handleNewSession:b,homeView:w,loading:k,courseId:C}))}ConnectedWidget.defaultProps={senderPlaceHolder:"Type a message...",showCloseButton:!0,showFullScreenButton:!0,autofocus:!0,chatId:"rcw-chat-container",launcherOpenLabel:"Open chat",launcherCloseLabel:"Close chat",launcherOpenImg:"",launcherCloseImg:"",showTimeStamp:!0,zoomStep:80,showBadge:!0};var tt,at=ConnectedWidget,it=Object(c.c)(tt||(tt=o()(["\n  .rcw-snippet {\n    border-radius: 10px;\n    max-width: 215px;\n    padding: 15px;\n    text-align: left;\n  }\n\n  .rcw-snippet-title {\n    margin: 0;\n  }\n\n  .rcw-snippet-details {\n    border-left: 2px solid #35e65d;\n    margin-top: 5px;\n    padding-left: 10px;\n  }\n\n  .rcw-link {\n    font-size: 12px;\n  }\n\n  .quick-button {\n    background: none;\n    border-radius: 15px;\n    border: 2px solid #35cce6;\n    font-weight: 700;\n    padding: 5px 10px;\n    cursor: pointer;\n    outline: 0;\n  }\n\n  .quick-button:active {\n    background: #35cce6;\n    color: #fff;\n  }\n\n  .rcw-messages-container {\n    height: 50vh;\n    max-height: 410px;\n    overflow-y: scroll;\n    -webkit-overflow-scrolling: touch;\n  }\n\n  .rcw-full-screen .rcw-messages-container {\n    height: 100%;\n    max-height: none;\n  }\n\n  @media screen and (max-width: 800px) {\n    .rcw-messages-container {\n      height: 100%;\n      max-height: none;\n    }\n  }\n\n  .rcw-sender {\n    align-items: flex-end;\n    background-color: #f4f7f9;\n    display: flex;\n    overflow: hidden;\n    padding: 10px;\n    position: relative;\n  }\n\n  .rcw-sender.expand {\n    height: 120px;\n  }\n\n  .rcw-new-message {\n    border: 0;\n    border-radius: 5px;\n    width: calc(100% - 75px);\n  }\n\n  .rcw-picker-btn,\n  .rcw-send {\n    background: #f4f7f9;\n    border: 0;\n    cursor: pointer;\n  }\n\n  .rcw-picker-btn .rcw-send-icon,\n  .rcw-send .rcw-send-icon {\n    height: 25px;\n  }\n\n  .rcw-message-disable {\n    background-color: #f4f7f9;\n    cursor: not-allowed;\n  }\n\n  @media screen and (max-width: 800px) {\n    .rcw-sender {\n      border-radius: 0;\n      flex-shrink: 0;\n    }\n  }\n\n  .quick-buttons-container {\n    background: #fff;\n    overflow-x: auto;\n    white-space: nowrap;\n    padding: 10px;\n  }\n\n  .quick-buttons-container .quick-buttons {\n    list-style: none;\n    padding: 0;\n    margin: 0;\n    text-align: center;\n  }\n\n  .quick-buttons-container .quick-buttons .quick-list-button {\n    display: inline-block;\n    margin-right: 10px;\n  }\n\n  @media screen and (max-width: 800px) {\n    .quick-buttons-container {\n      padding-bottom: 15px;\n    }\n  }\n\n  .rcw-conversation-resizer {\n    cursor: col-resize;\n    height: 100%;\n    left: 0;\n    position: absolute;\n    top: 0;\n    width: 5px;\n  }\n\n  .emoji-mart-preview {\n    display: none;\n  }\n\n  .rcw-launcher .rcw-badge {\n    position: fixed;\n    top: -10px;\n    right: -5px;\n    background-color: red;\n    color: #fff;\n    width: 25px;\n    height: 25px;\n    text-align: center;\n    line-height: 25px;\n    border-radius: 50%;\n  }\n\n  .rcw-launcher {\n    -webkit-animation-delay: 0;\n    -webkit-animation-duration: 0.5s;\n    -webkit-animation-name: slide-in;\n    -webkit-animation-fill-mode: forwards;\n    -moz-animation-delay: 0;\n    -moz-animation-duration: 0.5s;\n    -moz-animation-name: slide-in;\n    -moz-animation-fill-mode: forwards;\n    animation-delay: 0;\n    animation-duration: 0.5s;\n    animation-name: slide-in;\n    animation-fill-mode: forwards;\n    align-self: flex-end;\n    border: 0;\n    border-radius: 50%;\n    box-shadow: 0 2px 10px 1px #b5b5b5;\n    height: 60px;\n    margin-top: 10px;\n    cursor: pointer;\n    width: 60px;\n  }\n\n  .rcw-launcher:focus {\n    outline: none;\n  }\n\n  .rcw-open-launcher {\n    -webkit-animation-delay: 0;\n    -webkit-animation-duration: 0.5s;\n    -webkit-animation-name: rotation-rl;\n    -webkit-animation-fill-mode: forwards;\n    -moz-animation-delay: 0;\n    -moz-animation-duration: 0.5s;\n    -moz-animation-name: rotation-rl;\n    -moz-animation-fill-mode: forwards;\n    animation-delay: 0;\n    animation-duration: 0.5s;\n    animation-name: rotation-rl;\n    animation-fill-mode: forwards;\n  }\n\n  .rcw-close-launcher {\n    width: 20px;\n    -webkit-animation-delay: 0;\n    -webkit-animation-duration: 0.5s;\n    -webkit-animation-name: rotation-lr;\n    -webkit-animation-fill-mode: forwards;\n    -moz-animation-delay: 0;\n    -moz-animation-duration: 0.5s;\n    -moz-animation-name: rotation-lr;\n    -moz-animation-fill-mode: forwards;\n    animation-delay: 0;\n    animation-duration: 0.5s;\n    animation-name: rotation-lr;\n    animation-fill-mode: forwards;\n  }\n\n  @media screen and (max-width: 800px) {\n    .rcw-launcher {\n      bottom: 0;\n      margin: 20px;\n      position: fixed;\n      right: 0;\n    }\n\n    .rcw-hide-sm {\n      display: none;\n    }\n  }\n\n  .rcw-previewer-container {\n    width: 100vw;\n    height: 100vh;\n    background: rgba(0, 0, 0, 0.75);\n    overflow: hidden;\n    position: fixed;\n    z-index: 9999;\n    left: 0;\n    top: 0;\n  }\n\n  .rcw-previewer-container .rcw-previewer-image {\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    margin: auto;\n    transition: all 0.3s ease;\n  }\n\n  .rcw-previewer-container .rcw-previewer-tools {\n    position: fixed;\n    right: 16px;\n    bottom: 16px;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n  }\n\n  .rcw-previewer-container .rcw-previewer-button {\n    padding: 0;\n    margin: 16px;\n    box-shadow: 0 3px 8px 0 rgba(0, 0, 0, 0.3);\n    border-radius: 50%;\n    width: 32px;\n    height: 32px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    outline: none;\n    background-color: #fff;\n    border: none;\n  }\n\n  .rcw-previewer-container .rcw-previewer-close-button {\n    position: absolute;\n    right: 0;\n    top: 0;\n  }\n\n  .rcw-previewer-container .rcw-previewer-veil {\n    width: 100%;\n    height: 100%;\n    overflow: scroll;\n    position: relative;\n  }\n\n  @keyframes rotation-lr {\n    0% {\n      transform: rotate(-90deg);\n    }\n\n    100% {\n      transform: rotate(0);\n    }\n  }\n\n  @keyframes rotation-rl {\n    0% {\n      transform: rotate(90deg);\n    }\n\n    100% {\n      transform: rotate(0);\n    }\n  }\n\n  @keyframes slide-in {\n    0% {\n      opacity: 0;\n      transform: translateY(10px);\n    }\n\n    100% {\n      opacity: 1;\n      transform: translateY(0);\n    }\n  }\n\n  @keyframes slide-out {\n    0% {\n      opacity: 1;\n      transform: translateY(0);\n    }\n\n    100% {\n      opacity: 0;\n      transform: translateY(10px);\n    }\n  }\n\n  .rcw-widget-container {\n    bottom: 0;\n    display: flex;\n    flex-direction: column;\n    margin: 0 20px 20px 0;\n    position: fixed;\n    right: 0;\n    z-index: 9999;\n  }\n\n  .rcw-full-screen {\n    height: 100vh;\n    margin: 0;\n    max-width: none;\n    width: 100%;\n  }\n\n  @media screen and (max-width: 800px) {\n    .rcw-widget-container {\n      height: 100%;\n      height: 100vh;\n      margin: 0;\n      max-width: none;\n      width: 100%;\n    }\n  }\n\n  .rcw-previewer .rcw-message-img {\n    cursor: pointer;\n  }\n\n  .rcw-close-widget-container {\n    height: max-content;\n    width: max-content;\n  }\n\n  .rcw-feedback-container {\n    display: flex;\n    margin-left: auto;\n    margin-right: 0;\n    padding-top: 4px;\n  }\n"]))),rt=n("l1il"),ot=n("Y74u");function persistingCounter(e,n){var get=function(){return et.a.getItem(e,(function(e){var n=0;try{n=Number(e)}catch(e){n=0}return n}),n)},set=function(n){et.a.setItem(e,n,String)};return{get:get,set:set,increment:function(){var e=get()+1;return set(e),e}}}var ct="Xpi8XRE5m7vf92d5iXCUPJdWQhw";var st=n("n2iJ");function createChatSessionStorageKey(e){return"".concat(M.a,"-").concat(function(e){if(!e)return"".concat(Date.now());var n=st.a.hash.sha1.hash(e);return st.a.codec.hex.fromBits(n)}(e))}var dt,lt=n("XYQi");n.d(e,"overrideStyles",(function(){return ChatComponent_overrideStyles})),n.d(e,"ChatWidget",(function(){return ChatComponent_ChatWidget}));var ChatComponent_overrideStyles=function(e){return Object(c.c)(dt||(dt=o()(["\n    position: fixed;\n    z-index: 3100;\n\n    .rcw-launcher {\n      background-color: ",";\n    }\n\n    .rcw-conversation-container {\n      background-color: #f4f7fa;\n      width: 400px;\n      z-index: 10;\n      border-radius: 16px;\n      border: 2px solid #f4f7fa;\n      box-shadow: 0 4px 40px -8px rgb(0 0 0 / 40%), 0 4px 8px -8px rgb(0 0 0 / 40%);\n      min-width: 320px;\n      max-width: 90vw;\n      position: relative;\n\n      .rcw-message {\n        background-color: var(--cds-color-neutral-primary-invert);\n      }\n\n      .rcw-message-client {\n        background-color: #f4f7fa;\n      }\n\n      &.active {\n        opacity: 1;\n        transform: translateY(0);\n        transition: opacity 0.3s ease, transform 0.3s ease;\n      }\n\n      &.hidden {\n        z-index: -1;\n        pointer-events: none;\n        opacity: 0;\n        transform: translateY(10px);\n        transition: opacity 0.3s ease, transform 0.3s ease;\n      }\n    }\n\n    .rcw-full-screen .rcw-conversation-container {\n      display: flex;\n      flex-direction: column;\n      height: 100%;\n    }\n\n    @media screen and (max-width: 800px) {\n      .rcw-conversation-container {\n        display: flex;\n        flex-direction: column;\n        height: 100%;\n      }\n    }\n\n    .rcw-picker-btn {\n      display: none;\n    }\n\n    .rcw-new-message {\n      width: 100%;\n    }\n\n    .rcw-input {\n      height: 60px;\n    }\n  "])),e.palette.blue[600])};function handleError(e){var n;if(Object(T.e)(!1),Object(T.a)({text:Object(M.f)()}),e.graphQLErrors&&(null===(n=e.graphQLErrors)||void 0===n?void 0:n.length)>0){var t=e.graphQLErrors[0];u.captureMessage(JSON.stringify(t))}}var ChatComponent_ChatWidget=function(e){var n=e.itemId,t=e.courseId,a=e.recommendedActionsEnabled,i=void 0!==a&&a,r=e.clipRecommendationsEnabled,o=void 0!==r&&r,g=e.specializationId,f=e.mode,v=e.cssOverrides,b=e.homeView,k=e.handleSubmit,x=e.chatSessionKey,O=void 0===x?"":x,j=function(e){var n=e.triggerMessageCount,t=e.triggerOpenCount,a=persistingCounter("coach-open-count-pendo",0),i=persistingCounter("coach-message-count-pendo",0),r=h.a.get(),o=r.external_id,c=r.is_staff,s=r.is_superuser;ot.b.init({visitor:{id:o,isStaff:c,isSuperuser:s}},ot.a);var isComplete=function(){return-1===a.get()&&-1===i.get()},d=function(){var e=E()(y()().mark((function _callee(){var e,r;return y()().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(!isComplete()){o.next=3;break}return o.abrupt("return");case 3:if(e=a.get(),r=i.get(),e>=t&&r>=n)try{ot.b.showGuideById(ct),a.set(-1),i.set(-1)}catch(e){u.captureException(e)}case 6:case"end":return o.stop()}}),_callee)})));return function(){return e.apply(this,arguments)}}(),handleIncrement=function(e){return function(){!1===isComplete()&&e()}};return{messageIncrement:handleIncrement(i.increment),openIncrement:handleIncrement(a.increment),conditionalTriggerPendo:d}}({triggerMessageCount:3,triggerOpenCount:3}),N=Object(p.c)(),L=rt.a.getState().sessionState,R=L.chatSessionId,D=(L.chatSessionStorageKey,function(e){var n=e.historyLimit,t=e.recommendedActionsEnabled,a=e.clipRecommendationsEnabled,i=Object(A.a)(),r=s.useState(!1),o=I()(r,2),c=o[0],d=o[1],l=s.useState(null),m=I()(l,2),p=m[0],h=m[1],g=!1,f=function(){var e=E()(y()().mark((function _callee(e){var r,o,c,s,l,m,p,f,v,b;return y()().wrap((function(w){for(;;)switch(w.prev=w.next){case 0:return d(!0),w.prev=1,w.next=4,i.query({query:F.a,variables:{chatSessionId:e,limit:n,recommendedActionsEnabled:t,clipRecommendationsEnabled:a},context:{clientName:"gatewayGql"},fetchPolicy:"network-only"});case 4:s=w.sent,null!==(r=s.data)&&void 0!==r&&null!==(o=r.AiCoach)&&void 0!==o&&null!==(c=o.queryByChatSessionId)&&void 0!==c&&c.elements&&(f=null===(l=s.data)||void 0===l?void 0:null===(m=l.AiCoach)||void 0===m?void 0:null===(p=m.queryByChatSessionId)||void 0===p?void 0:p.elements,v=f.map((function(e){return e.senderType===M.e.CLIENT?{id:e.id,sender:e.senderType,text:e.message,timestamp:e.createdAt}:e.senderType===M.e.RESPONSE?{id:e.id,sender:e.senderType,text:e.message,timestamp:e.createdAt,clipRecommendations:e.clipRecommendations,userFeedback:e.userFeedback,recommendedActions:e.recommendedActions}:{id:e.id,sender:e.senderType,text:e.message,timestamp:e.createdAt}})),Object(T.l)(v.reverse()),d(!1)),w.next=14;break;case 8:w.prev=8,w.t0=w.catch(1),g&&h(w.t0),g&&d(!1),b=w.t0,u.captureMessage("Error ConversationHistory: "+JSON.stringify(b));case 14:case"end":return w.stop()}}),_callee,null,[[1,8]])})));return function(n){return e.apply(this,arguments)}}();return s.useEffect((function(){return g=!0,function(){g=!1}}),[]),{loading:c,error:p,refreshHistory:f}}({chatSessionId:R,historyLimit:5,clipRecommendationsEnabled:o,recommendedActionsEnabled:i})||{}),V=D.loading,B=(D.error,D.refreshHistory),H=Object(m.b)();function getSessionStorageKey(){var e=N.pathname+N.search+N.query;return createChatSessionStorageKey(O||e)}return Object(s.useEffect)((function(){var e;return H({trackingData:{timestamp:Date.now()},trackingName:"ai-course-coach-widget",action:"visible"}),(e=et.a.getItem("ccfi",(function(e){return"1"!==e}),!0))&&et.a.setItem("ccfi","1",(function(e){return e})),e&&Object(T.k)(),"undefined"!=typeof document&&document.body.dispatchEvent(new CustomEvent("coachChatEnabled")),function(){"undefined"!=typeof document&&document.body.dispatchEvent(new CustomEvent("coachChatDisabled"))}}),[H]),Object(s.useEffect)((function(){var e=getSessionStorageKey(),n=lt.a.get(e);Object(T.i)(e),Object(T.h)(n),Object(T.d)(),n&&(null==B||B(n)),!n&&Object(T.d)()}),[N]),Object(d.createPortal)(Object(c.d)(en.a,null,Object(c.d)("div",{"data-testid":"coursera-coach-widget",id:"coursera-coach-widget",css:[it,v,ChatComponent_overrideStyles]},Object(c.d)(l.a,{store:rt.a},Object(c.d)("div",null,Object(c.d)(at,{showTimeStamp:!0,showCloseButton:!0,profileClientAvatar:h.a.get().photo_120,handleSubmit:k,handleNewSession:function(){Object(T.b)(),w.a.removeItem(S);var e=getSessionStorageKey();Object(T.i)(e),Object(T.d)()},handleNewUserMessage:function(e,a){var r,c;j.messageIncrement(),Object(T.g)({input:{userId:String(null===h.a||void 0===h.a?void 0:null===(r=h.a.get)||void 0===r?void 0:null===(c=r.call(h.a))||void 0===c?void 0:c.id),message:e,courseraContext:{specializationId:g,courseId:t,itemId:n},mode:f,action:a},clipRecommendationsEnabled:o,recommendedActionsEnabled:i}).catch(handleError),setTimeout((function(){Object(T.e)(!0)}),300)},handleToggle:function(e){e||(j.openIncrement(),j.conditionalTriggerPendo())},autofocus:!0,senderPlaceHolder:C()("Ask me anything"),showFullScreenButton:!0,loading:V,homeView:b,courseId:t}))))),document.body)},ut=m.a.withVisibilityTracking(ChatComponent_ChatWidget);ChatComponent_ChatWidget.displayName="ChatWidget";e.default=ut},XYQi:function(module,e,n){"use strict";n.d(e,"a",(function(){return a}));var t=n("vDB9"),a={get:function(e){var n=t.a.getItem(e,(function(e){return e}),"");return n&&"undefined"!==n?n:void 0},set:function(e,n){var a=n;t.a.setItem(e,a,(function(e){return e}))},clear:function(e){t.a.removeItem(e)}}},"b+Bk":function(module,exports){var e={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AiCoach_CreateUserMessageAndReturnResponse"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"AiCoach_CreateUserMessageAndReturnResponseInput"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"recommendedActionsEnabled"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},defaultValue:{kind:"BooleanValue",value:!1},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"clipRecommendationsEnabled"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},defaultValue:{kind:"BooleanValue",value:!1},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"AiCoach_CreateUserMessageAndReturnResponse"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"messageByAiCoach"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"senderType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"messageId"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"chatSessionId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"recommendedActions"},arguments:[],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"recommendedActionsEnabled"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"action"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"actionMessage"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"clipRecommendations"},arguments:[],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"clipRecommendationsEnabled"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"course"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"partners"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"abbreviatedName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"logo"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"itemTitle"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"itemSlug"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"itemId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"previewImage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"duration"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:763}};e.loc.source={body:"mutation AiCoach_CreateUserMessageAndReturnResponse(\n  $input: AiCoach_CreateUserMessageAndReturnResponseInput!\n  $recommendedActionsEnabled: Boolean = false\n  $clipRecommendationsEnabled: Boolean = false\n) {\n  AiCoach_CreateUserMessageAndReturnResponse(input: $input) {\n    messageByAiCoach {\n      message\n      senderType\n      messageId\n    }\n    chatSessionId\n    recommendedActions @include(if: $recommendedActionsEnabled) {\n      action\n      actionMessage\n    }\n    clipRecommendations @include(if: $clipRecommendationsEnabled) {\n      course {\n        id\n        slug\n        name\n      }\n      partners {\n        abbreviatedName\n        name\n        logo\n      }\n      itemTitle\n      itemSlug\n      itemId\n      previewImage\n      duration\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var n={};function findOperation(e,n){for(var t=0;t<e.definitions.length;t++){var a=e.definitions[t];if(a.name&&a.name.value==n)return a}}e.definitions.forEach((function(e){if(e.name){var t=new Set;!function collectFragmentReferences(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var t=e.type;"NamedType"===t.kind&&n.add(t.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){collectFragmentReferences(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){collectFragmentReferences(e,n)})),e.definitions&&e.definitions.forEach((function(e){collectFragmentReferences(e,n)}))}(e,t),n[e.name.value]=t}})),module.exports=e,module.exports.AiCoach_CreateUserMessageAndReturnResponse=function(e,t){var a={kind:e.kind,definitions:[findOperation(e,t)]};e.hasOwnProperty("loc")&&(a.loc=e.loc);var i=n[t]||new Set,r=new Set,o=new Set;for(i.forEach((function(e){o.add(e)}));o.size>0;){var c=o;o=new Set,c.forEach((function(e){r.has(e)||(r.add(e),(n[e]||new Set).forEach((function(e){o.add(e)})))}))}return r.forEach((function(n){var t=findOperation(e,n);t&&a.definitions.push(t)})),a}(e,"AiCoach_CreateUserMessageAndReturnResponse")},fNnY:function(module,e,n){"use strict";n.d(e,"t",(function(){return t})),n.d(e,"o",(function(){return a})),n.d(e,"u",(function(){return i})),n.d(e,"v",(function(){return r})),n.d(e,"h",(function(){return o})),n.d(e,"p",(function(){return c})),n.d(e,"w",(function(){return s})),n.d(e,"d",(function(){return d})),n.d(e,"c",(function(){return l})),n.d(e,"b",(function(){return u})),n.d(e,"a",(function(){return m})),n.d(e,"g",(function(){return p})),n.d(e,"l",(function(){return h})),n.d(e,"f",(function(){return g})),n.d(e,"m",(function(){return f})),n.d(e,"i",(function(){return v})),n.d(e,"j",(function(){return b})),n.d(e,"k",(function(){return w})),n.d(e,"s",(function(){return k})),n.d(e,"q",(function(){return C})),n.d(e,"r",(function(){return S})),n.d(e,"e",(function(){return x})),n.d(e,"n",(function(){return O}));var t="BEHAVIOR/TOGGLE_CHAT",a="BEHAVIOR/OPEN_COACH_WIDGET",i="BEHAVIOR/TOGGLE_FULLSCREEN",r="BEHAVIOR/TOGGLE_INPUT_DISABLED",o="BEHAVIOR/ENABLE_MSG_LOADER",c="BEHAVIOR/SET_BADGE_COUNT",s="MESSAGES/UPDATE_CHAT_HISTORY",d="MESSAGES/ADD_NEW_USER_MESSAGE",l="MESSAGES/ADD_NEW_RESPONSE_MESSAGE",u="MESSAGES/ADD_NEW_LINK_SNIPPET",m="MESSAGES/ADD_COMPONENT_MESSAGE",p="MESSAGES/DROP_MESSAGES",h="MESSAGES/HIDE_AVATAR",g="MESSAGES/DELETE_MESSAGES",f="MESSAGES/MARK_ALL_READ",v="MESSAGE/FEEDBACK_SET_LIKE",b="MESSAGE/FEEDBACK_SET_UNLIKE",w="MESSAGE/FEEDBACK_UNSET",k="INPUT/SET_USER_INPUT_TEXT",C="SESSION/SET_CHAT_SESSION_ID",S="SESSION/SET_CHAT_SESSION_STORAGE_KEY",x="SESSION/CLEAR_CHAT_SESSION",O="SESSION/NEW_CHAT_SESSION"},l1il:function(module,e,n){"use strict";var t,a,i,r=n("ANjH"),o=n("lSNA"),c=n.n(o),s=n("3tO9"),d=n.n(s),createReducer=function(e,n,t){return e[t.type]?e[t.type](n,t):n},l=n("fNnY"),u={showChat:!1,isFullScreen:!1,disabledInput:!1,messageLoader:!1},m=(t={},c()(t,l.t,(function(e){return e.isFullScreen?d()(d()({},e),{},{showChat:!e.showChat,isFullScreen:!1}):d()(d()({},e),{},{showChat:!e.showChat})})),c()(t,l.o,(function(e){return d()(d()({},e),{},{showChat:!0})})),c()(t,l.u,(function(e){return d()(d()({},e),{},{isFullScreen:!e.isFullScreen})})),c()(t,l.v,(function(e){return d()(d()({},e),{},{disabledInput:!e.disabledInput})})),c()(t,l.h,(function(e,n){var t=n.messageLoader;return d()(d()({},e),{},{messageLoader:t})})),t),p={inputText:""},h=c()({},l.s,(function(e,n){return d()(d()({},e),{},{inputText:n.inputText})})),g=n("RIqP"),f=n.n(g),v=n("ntUh"),b=n("urMC"),w={messages:[],chatSessionId:null,badgeCount:0},k=(a={},c()(a,l.w,(function(e,n){var t=n.messages.map((function(e){return Object(b.c)(e)}));return d()(d()({},e),{},{messages:f()(t)})})),c()(a,l.d,(function(e,n){var t=n.text,a=n.id,i=n.timestamp;return d()(d()({},e),{},{messages:[].concat(f()(e.messages),[Object(b.c)({text:t,sender:v.e.CLIENT,id:a,timestamp:i})])})})),c()(a,l.c,(function(e,n){var t=n.text,a=n.id,i=n.clipRecommendations,r=n.userFeedback,o=n.timestamp,c=n.recommendedActions;return d()(d()({},e),{},{messages:[].concat(f()(e.messages),[Object(b.c)({text:t,sender:v.e.RESPONSE,id:a,clipRecommendations:i,userFeedback:r,timestamp:o,recommendedActions:c})]),badgeCount:e.badgeCount+1})})),c()(a,l.b,(function(e,n){var t=n.link,a=n.id;return d()(d()({},e),{},{messages:[].concat(f()(e.messages),[Object(b.b)(t,a)])})})),c()(a,l.a,(function(e,n){var t=n.component,a=n.props,i=n.showAvatar,r=n.id;return d()(d()({},e),{},{messages:[].concat(f()(e.messages),[Object(b.a)(t,a,i,r)])})})),c()(a,l.g,(function(e){return d()(d()({},e),{},{messages:[],badgeCount:0})})),c()(a,l.l,(function(e,n){var t=n.index;e.messages[t].showAvatar=!1})),c()(a,l.f,(function(e,n){var t=n.count,a=n.id,i=a?e.messages.filter((function(_,n){var i=e.messages.findIndex((function(e){return e.customId===a}));return n<i-t+1||n>i})):e.messages.slice(0,e.messages.length-t);return d()(d()({},e),{},{messages:i,badgeCount:i.filter((function(e){return e.unread})).length})})),c()(a,l.p,(function(e,n){var t=n.count;return d()(d()({},e),{},{badgeCount:t})})),c()(a,l.m,(function(e){return d()(d()({},e),{},{messages:e.messages.map((function(e){return d()(d()({},e),{},{unread:!1})})),badgeCount:0})})),c()(a,l.i,(function(e,n){var t=n.id;return d()(d()({},e),{},{messages:e.messages.map((function(e){return d()(d()({},e),{},{userFeedback:t===e.customId?v.b.like:e.userFeedback})}))})})),c()(a,l.j,(function(e,n){var t=n.id;return d()(d()({},e),{},{messages:e.messages.map((function(e){return d()(d()({},e),{},{userFeedback:t===e.customId?v.b.dislike:e.userFeedback})}))})})),c()(a,l.k,(function(e,n){var t=n.id;return d()(d()({},e),{},{messages:e.messages.map((function(e){return d()(d()({},e),{},{userFeedback:t===e.customId?v.b.unset:e.userFeedback})}))})})),c()(a,l.q,(function(e,n){var t=n.chatSessionId;return d()(d()({},e),{},{chatSessionId:t})})),a),C={chatSessionId:void 0,chatSessionStorageKey:void 0},S=(i={},c()(i,l.n,(function(e){return d()(d()({},e),{},{chatSessionId:void 0,chatSessionStorageKey:void 0})})),c()(i,l.e,(function(e){return d()(d()({},e),{},{chatSessionId:void 0,chatSessionStorageKey:void 0})})),c()(i,l.q,(function(e,n){var t=n.chatSessionId;return d()(d()({},e),{},{chatSessionId:t})})),c()(i,l.r,(function(e,n){return d()(d()({},e),{},{chatSessionStorageKey:n})})),i),x=r.b,O=Object(r.a)({behavior:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,n=arguments.length>1?arguments[1]:void 0;return createReducer(m,e,n)},messages:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,n=arguments.length>1?arguments[1]:void 0;return createReducer(k,e,n)},input:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,n=arguments.length>1?arguments[1]:void 0;return createReducer(h,e,n)},sessionState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,n=arguments.length>1?arguments[1]:void 0;return createReducer(S,e,n)}});e.a=Object(r.c)(O,x())},mk4A:function(module,e,n){"use strict";var t,a=n("VkAN"),i=n.n(a),r=n("AeFk");n("q1tI");e.a=function(e){var n=e.children;return Object(r.d)("div",{"data-theme":"coach-web",css:Object(r.c)(t||(t=i()(["\n        /* CDS overrides - themeable approach to coach styling */\n        --cds-color-interactive-primary: #3587fc; /* TODO: replace with new token */\n        --cds-color-interactive-primary-hover: #1e72eb; /* TODO: replace with new token */\n        --cds-color-interactive-secondary: #1e2229; /* TODO: replace with new token */\n\n        .invert {\n          --cds-color-neutral-primary-invert: #00255d;\n          --cds-color-callouts-tertiary: #fff;\n        }\n\n        /* \n          Coach overrides - this should be temporary, ideally we shouldn't have \n          any overrides here and all overrides are purely token value updates.\n        */\n        .coach-button {\n          --cds-border-radius-50: var(--cds-spacing-100); /* TODO: replace with new token */\n          --cds-color-interactive-primary-pressed: var(--cds-color-interactive-primary-hover);\n\n          transition: all 0.2s cubic-bezier(0, 1, 0.9, 1);\n\n          &:active {\n            transform: scale3d(0.98, 0.98, 0.98);\n            border-radius: var(--cds-spacing-150);\n          }\n\n          &.coach-secondary-button {\n            --cds-color-neutral-background-primary: transparent;\n            --cds-color-interactive-background-primary-hover-weak: #3587fc1a; /* TODO: replace with new token */\n            --cds-color-interactive-background-primary-pressed-weak: #3587fc1a; /* TODO: replace with new token */\n\n            box-shadow: inset 0 0 0 2px #dae1ed; /* TODO: replace with new token */\n            max-width: none; // override default 320px width\n\n            &:hover,\n            &:focus-visible {\n              box-shadow: inset 0 0 0 2px #3587fc; /* TODO: replace with new token */\n            }\n\n            .cds-button-label {\n              color: var(--cds-color-neutral-primary);\n            }\n          }\n        }\n\n        .coach-icon-button {\n          --cds-border-radius-50: 24px; /* TODO: replace with new token */\n          --cds-color-interactive-primary-pressed: var(--cds-color-interactive-primary-hover);\n          --cds-color-interactive-background-primary-hover-weak: #3587fc1a; /* TODO: replace with new token */\n          --cds-color-interactive-background-primary-pressed-weak: #3587fc1a; /* TODO: replace with new token */\n\n          box-shadow: none;\n          transition: all 0.2s cubic-bezier(0, 1, 0.9, 1);\n\n          &:active {\n            transform: scale3d(0.98, 0.98, 0.98);\n          }\n\n          &:hover,\n          &:focus {\n            box-shadow: inset 0 0 0 2px #3587fc; /* TODO: replace with new token */\n          }\n\n          svg {\n            color: var(--cds-color-neutral-primary);\n          }\n        }\n      "])))},n)}},ntUh:function(module,e,n){"use strict";n.d(e,"e",(function(){return i})),n.d(e,"c",(function(){return r})),n.d(e,"b",(function(){return o})),n.d(e,"f",(function(){return getErrorMessageText})),n.d(e,"d",(function(){return c})),n.d(e,"a",(function(){return s}));var t=n("DxU6"),a=n.n(t),i={CLIENT:"USER",RESPONSE:"SYSTEM"},r={TEXT:"text",SNIPPET:{LINK:"snippet"},CUSTOM_COMPONENT:"component"},o={like:"LIKE",dislike:"DISLIKE",unset:"UNSET"},getErrorMessageText=function(){return a()("Sorry, there was an error responding. Please try your message again.")},c=400,s="activeCourseraCoachSessionId"},rnql:function(module,e,n){"use strict";var t=n("pVnL"),a=n.n(t),i=n("QILm"),r=n.n(i),o=n("q1tI"),c=n("ZJgU"),s=["children","variant"];e.a=function(e){var n=e.children,t=e.variant,i=r()(e,s);return"secondary"===t?o.createElement(c.a,a()({variant:"secondary",className:"coach-button coach-secondary-button",textAlign:"start"},i),n):o.createElement(c.a,a()({className:"coach-button",textAlign:"start"},i),n)}},saWA:function(module,e,n){"use strict";n.d(e,"r",(function(){return toggleChat})),n.d(e,"i",(function(){return openCoachWidget})),n.d(e,"s",(function(){return toggleFullScreen})),n.d(e,"t",(function(){return toggleInputDisabled})),n.d(e,"u",(function(){return updateChatHistory})),n.d(e,"c",(function(){return addUserMessage})),n.d(e,"b",(function(){return addResponseMessage})),n.d(e,"g",(function(){return enableMsgLoader})),n.d(e,"a",(function(){return addLinkSnippet})),n.d(e,"j",(function(){return renderCustomComponent})),n.d(e,"f",(function(){return dropMessages})),n.d(e,"e",(function(){return deleteMessages})),n.d(e,"k",(function(){return setBadgeCount})),n.d(e,"h",(function(){return markAllMessagesRead})),n.d(e,"q",(function(){return setUserInput})),n.d(e,"n",(function(){return setLike})),n.d(e,"o",(function(){return setUnLike})),n.d(e,"p",(function(){return setUnSet})),n.d(e,"l",(function(){return setChatSessionId})),n.d(e,"m",(function(){return setChatSessionStorageKey})),n.d(e,"d",(function(){return clearChatSession}));var t=n("fNnY");function toggleChat(){return{type:t.t}}function openCoachWidget(){return{type:t.o}}function toggleFullScreen(){return{type:t.u}}function toggleInputDisabled(){return{type:t.v}}function updateChatHistory(e){return{type:t.w,messages:e}}function addUserMessage(e,n,a){return{type:t.d,text:e,id:n,timestamp:a}}function addResponseMessage(e,n,a,i,r,o){return{type:t.c,text:e,id:n,clipRecommendations:a,userFeedback:i,timestamp:r,recommendedActions:o}}function enableMsgLoader(e){return{type:t.h,messageLoader:e}}function addLinkSnippet(e,n){return{type:t.b,link:e,id:n}}function renderCustomComponent(e,n,a,i){return{type:t.a,component:e,props:n,showAvatar:a,id:i}}function dropMessages(){return{type:t.g}}function deleteMessages(e,n){return{type:t.f,count:e,id:n}}function setBadgeCount(e){return{type:t.p,count:e}}function markAllMessagesRead(){return{type:t.m}}function setUserInput(e){return{type:t.s,inputText:e}}function setLike(e){return{type:t.i,id:e}}function setUnLike(e){return{type:t.j,id:e}}function setUnSet(e){return{type:t.k,id:e}}function setChatSessionId(e){return{type:t.q,chatSessionId:e}}function setChatSessionStorageKey(e){return{type:t.r,chatSessionStorageKey:e}}function clearChatSession(){return{type:t.e}}},t3UK:function(module,e,n){"use strict";var t=n("mk4A");n.d(e,"a",(function(){return t.a}))},urMC:function(module,e,n){"use strict";var t,a=n("VkAN"),i=n.n(a),r=n("AeFk"),o=n("q1tI"),c=n("TNJZ"),s=n.n(c),d=n("1M3H"),l=n.n(d),u=n("1+lQ"),m=n.n(u),p=n("MPo6"),h=n.n(p),g=n("e6bE"),f=n.n(g),v=n("Xx5p"),b=n("ntUh");var components_Message=function(e){var n=e.message,a=l()({break:!0}).use(s.a,{img:["rcw-message-img"]}).use(f.a).use(h.a).use(m.a,{attrs:{target:"_blank",rel:"noopener"}}).render(n.text),o=n.sender===b.e.CLIENT?"rcw-client":"rcw-response";return Object(r.d)("div",{className:"".concat(o," rcw-message-text"),dangerouslySetInnerHTML:{__html:a.replace(/\n$/,"")},css:Object(r.c)(t||(t=i()(["\n        p,\n        li {\n          ","\n        }\n\n        img {\n          width: 100%;\n          -o-object-fit: contain;\n          object-fit: contain;\n        }\n\n        .rcw-client {\n          display: flex;\n          flex-direction: column;\n          margin-left: auto;\n          max-width: none;\n          padding: 0;\n        }\n\n        .rcw-response {\n          max-width: none;\n          padding: 0;\n          display: flex;\n          flex-direction: column;\n          align-items: flex-start;\n        }\n      "])),v.a.body1)})};var components_Snippet=function(e){var n=e.message;return(o.createElement("div",{className:"rcw-snippet"},o.createElement("h5",{className:"rcw-snippet-title"},n.title),o.createElement("div",{className:"rcw-snippet-details"},o.createElement("a",{href:n.link,target:n.target,className:"rcw-link"},n.link))))};function createNewMessage(e){var n=e.text,t=e.sender,a=e.id,i=e.clipRecommendations,r=e.userFeedback,o=e.timestamp,c=e.recommendedActions;return{type:b.c.TEXT,component:components_Message,text:n,sender:t,timestamp:o?new Date(o):new Date,showAvatar:!0,customId:a,unread:t===b.e.RESPONSE,clipRecommendations:i,userFeedback:r,recommendedActions:c}}function createLinkSnippet(e,n){return{type:b.c.SNIPPET.LINK,component:components_Snippet,title:e.title,link:e.link,target:e.target||"_blank",sender:b.e.RESPONSE,timestamp:new Date,showAvatar:!0,customId:n,unread:!0}}function createComponentMessage(e,n,t,a){return{type:b.c.CUSTOM_COMPONENT,component:e,props:n,sender:b.e.RESPONSE,timestamp:new Date,showAvatar:t,customId:a,unread:!0}}function scrollToBottom(e){if(e){var n,t,a,i,r,o,c=e.clientHeight,s=e.scrollTop,d=e.scrollHeight-(s+c);d&&(n=e,t=s,a=d,r=null===(i=window)||void 0===i?void 0:i.requestAnimationFrame,o=0,r((function step(e){o||(o=e);var i=function(e,n,t,a){return t*((e=e/a-1)*e*e+1)+n}(e-o,0,a,b.d),c=t+i;n.scrollTop=c,c<t+a&&r(step)})))}}n.d(e,"c",(function(){return createNewMessage})),n.d(e,"b",(function(){return createLinkSnippet})),n.d(e,"a",(function(){return createComponentMessage})),n.d(e,"d",(function(){return scrollToBottom}))},xeAZ:function(module,exports){var e={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"AiCoach_ChatMessagesPaginatedResult"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"chatSessionId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"recommendedActionsEnabled"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},defaultValue:{kind:"BooleanValue",value:!1},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"clipRecommendationsEnabled"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},defaultValue:{kind:"BooleanValue",value:!1},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"AiCoach"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"queryByChatSessionId"},arguments:[{kind:"Argument",name:{kind:"Name",value:"chatSessionId"},value:{kind:"Variable",name:{kind:"Name",value:"chatSessionId"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pagination"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalElements"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cursor"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"elements"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"userFeedback"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"userComments"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"senderType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"itemId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"courseId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"recommendedActions"},arguments:[],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"recommendedActionsEnabled"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"actionMessage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"action"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"clipRecommendations"},arguments:[],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"clipRecommendationsEnabled"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"course"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"partners"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"abbreviatedName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"logo"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"duration"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"itemId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"itemSlug"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"itemTitle"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"previewImage"},arguments:[],directives:[]}]}}]}}]}}]}}]}}],loc:{start:0,end:977}};e.loc.source={body:"query AiCoach_ChatMessagesPaginatedResult(\n  $chatSessionId: ID!\n  $limit: Int!\n  $recommendedActionsEnabled: Boolean = false\n  $clipRecommendationsEnabled: Boolean = false\n) {\n  AiCoach {\n    queryByChatSessionId(chatSessionId: $chatSessionId, limit: $limit) {\n      pagination {\n        totalElements\n        cursor\n      }\n      elements {\n        userFeedback\n        userComments\n        senderType\n        message\n        itemId\n        createdAt\n        courseId\n        id\n        recommendedActions @include(if: $recommendedActionsEnabled) {\n          actionMessage\n          action\n        }\n        clipRecommendations @include(if: $clipRecommendationsEnabled) {\n          course {\n            id\n            slug\n            name\n          }\n          partners {\n            abbreviatedName\n            name\n            logo\n          }\n          duration\n          itemId\n          itemSlug\n          itemTitle\n          previewImage\n        }\n      }\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var n={};function findOperation(e,n){for(var t=0;t<e.definitions.length;t++){var a=e.definitions[t];if(a.name&&a.name.value==n)return a}}e.definitions.forEach((function(e){if(e.name){var t=new Set;!function collectFragmentReferences(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var t=e.type;"NamedType"===t.kind&&n.add(t.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){collectFragmentReferences(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){collectFragmentReferences(e,n)})),e.definitions&&e.definitions.forEach((function(e){collectFragmentReferences(e,n)}))}(e,t),n[e.name.value]=t}})),module.exports=e,module.exports.AiCoach_ChatMessagesPaginatedResult=function(e,t){var a={kind:e.kind,definitions:[findOperation(e,t)]};e.hasOwnProperty("loc")&&(a.loc=e.loc);var i=n[t]||new Set,r=new Set,o=new Set;for(i.forEach((function(e){o.add(e)}));o.size>0;){var c=o;o=new Set,c.forEach((function(e){r.has(e)||(r.add(e),(n[e]||new Set).forEach((function(e){o.add(e)})))}))}return r.forEach((function(n){var t=findOperation(e,n);t&&a.definitions.push(t)})),a}(e,"AiCoach_ChatMessagesPaginatedResult")},zyGl:function(module,e,n){"use strict";n.d(e,"a",(function(){return CoachBrandLabel}));n("VkAN");var t,a=n("AeFk");function CoachBrandLabel(e){var n=e.className;return Object(a.d)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"55",height:"14",viewBox:"0 0 55 14",fill:"none",className:n},t||(t=Object(a.d)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M52.0942 4.24909C51.4991 3.92962 50.8207 3.76989 50.059 3.76989C49.2378 3.76989 48.5058 3.94806 47.8631 4.30438C47.5398 4.48362 47.2542 4.70172 47.0062 4.95868V0.157471H44.2211V13.8331H47.0062V8.93049C47.0062 8.31614 47.1014 7.81236 47.2918 7.41917C47.4941 7.02599 47.7679 6.73724 48.113 6.55293C48.4701 6.35634 48.8688 6.25804 49.3092 6.25804C49.9281 6.25804 50.4041 6.44849 50.7374 6.82939C51.0826 7.21029 51.2551 7.80008 51.2551 8.59874V13.8331H54.0402V8.1564C54.0402 7.14886 53.8676 6.32562 53.5224 5.68669C53.1773 5.03547 52.7012 4.55627 52.0942 4.24909ZM0.646484 8.55564C0.646484 5.62236 3.00439 3.26643 5.95258 3.26643C6.83902 3.26011 7.71308 3.47819 8.49598 3.90101C9.27888 4.32383 9.94603 4.9381 10.4373 5.68847L8.22681 6.99245C7.97103 6.62076 7.63059 6.31755 7.23456 6.10872C6.83853 5.89989 6.39868 5.79164 5.95258 5.79321C4.43664 5.79321 3.19429 7.0782 3.19429 8.55564C3.19429 10.0331 4.43664 11.3181 5.95258 11.3181C6.41972 11.3212 6.87984 11.2024 7.28902 10.9732C7.69821 10.744 8.04279 10.412 8.28989 10.0089L10.4785 11.3364C9.99322 12.1087 9.32356 12.7435 8.53196 13.1817C7.74035 13.6199 6.85255 13.8471 5.95129 13.8422C3.00439 13.8449 0.646484 11.4438 0.646484 8.55564ZM16.2795 3.2663C13.3313 3.2663 10.9734 5.62157 10.9734 8.53391C10.9734 11.422 13.3313 13.8231 16.2795 13.8231C19.2483 13.8231 21.6068 11.4246 21.6068 8.53391C21.6068 5.62288 19.2483 3.2663 16.2795 3.2663ZM16.2795 5.79308C17.8167 5.79308 19.059 7.07807 19.059 8.53391C19.059 10.0114 17.8193 11.2963 16.2795 11.2963C14.7636 11.2963 13.5212 10.0114 13.5212 8.53391C13.5212 7.07807 14.7636 5.79308 16.2795 5.79308ZM22.1125 8.61966C22.1125 5.42911 24.6603 3.2663 26.977 3.2663C28.556 3.2663 29.4617 3.75856 30.0719 4.70119L30.3146 3.45744H32.6828V13.63H30.3146L30.0088 12.5826C29.3143 13.3538 28.4504 13.8264 26.977 13.8264C24.7027 13.8231 22.1125 11.7886 22.1125 8.61966ZM30.1981 8.59806C30.1953 7.85153 29.9009 7.13671 29.3799 6.61086C28.8588 6.085 28.1536 5.79119 27.4195 5.79406C26.6854 5.79692 25.9825 6.09623 25.4654 6.62613C24.9483 7.15603 24.6594 7.87313 24.6622 8.61966C24.6622 10.033 25.9045 11.2963 27.4211 11.2963C28.9564 11.2963 30.1981 10.033 30.1981 8.59806ZM33.8941 8.55564C33.8941 5.62236 36.252 3.26643 39.2002 3.26643C40.0866 3.26011 40.9607 3.47819 41.7436 3.90101C42.5265 4.32383 43.1937 4.9381 43.6849 5.68847L41.4744 6.99245C41.2187 6.62076 40.8782 6.31755 40.4822 6.10872C40.0862 5.89989 39.6463 5.79164 39.2002 5.79321C37.6843 5.79321 36.4419 7.0782 36.4419 8.55564C36.4419 10.0331 37.6843 11.3181 39.2002 11.3181C39.6673 11.3212 40.1275 11.2024 40.5366 10.9732C40.9458 10.744 41.2904 10.412 41.5375 10.0089L43.7261 11.3364C43.2408 12.1087 42.5712 12.7435 41.7796 13.1817C40.988 13.6199 40.1002 13.8471 39.1989 13.8422C36.252 13.8449 33.8941 11.4438 33.8941 8.55564Z",fill:"#3587FC"})))}}}]);
//# sourceMappingURL=en.CourseraCoachBundle.1cc76e1a57bcd3dd7ef7.js.map